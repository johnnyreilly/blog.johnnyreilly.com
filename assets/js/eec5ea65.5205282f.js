"use strict";(self.webpackChunkjohnnyreilly_com=self.webpackChunkjohnnyreilly_com||[]).push([[65368],{59654:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var a=i(74848),n=i(28453);const s={slug:"bicep-user-defined-types-and-bash-single-item-arrays",title:"Bicep user defined types and Bash single item arrays",authors:"johnnyreilly",tags:["bicep"],image:"./title-image.png",description:"The error \"Expected a value of type 'Array', but received a value of type 'String'\", presents when wrestling with the AZ CLI, Bash single item arrays and Bicep.",hide_table_of_contents:!1},r=void 0,o={permalink:"/bicep-user-defined-types-and-bash-single-item-arrays",editUrl:"https://github.com/johnnyreilly/blog.johnnyreilly.com/edit/main/blog-website/blog/2023-04-05-bicep-user-defined-types-and-bash-single-item-arrays/index.md",source:"@site/blog/2023-04-05-bicep-user-defined-types-and-bash-single-item-arrays/index.md",title:"Bicep user defined types and Bash single item arrays",description:"The error \"Expected a value of type \\'Array\\', but received a value of type \\'String\\'\", presents when wrestling with the AZ CLI, Bash single item arrays and Bicep.",date:"2023-04-05T00:00:00.000Z",tags:[{label:"bicep",permalink:"/tags/bicep"}],readingTime:4.025,hasTruncateMarker:!0,authors:[{name:"John Reilly",title:"OSS Engineer - TypeScript, Azure, React, Node.js, .NET",url:"https://johnnyreilly.com/about",imageURL:"https://johnnyreilly.com/img/profile.jpg",key:"johnnyreilly"}],frontMatter:{slug:"bicep-user-defined-types-and-bash-single-item-arrays",title:"Bicep user defined types and Bash single item arrays",authors:"johnnyreilly",tags:["bicep"],image:"./title-image.png",description:"The error \"Expected a value of type \\'Array\\', but received a value of type \\'String\\'\", presents when wrestling with the AZ CLI, Bash single item arrays and Bicep.",hide_table_of_contents:!1},unlisted:!1,prevItem:{title:"Docusaurus: Structured Data FAQs with MDX",permalink:"/docusaurus-structured-data-faqs-mdx"},nextItem:{title:"Playwright, GitHub Actions and Azure Static Web Apps staging environments",permalink:"/playwright-github-actions-and-azure-static-web-apps-staging-environments"}},l={image:i(27344).A,authorsImageUrls:[void 0]},d=[];function p(e){const t={code:"code",img:"img",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"When sending a single item array to a Bicep template you may get an error like this:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"ERROR: InvalidTemplate - Deployment template validation failed: 'Template parameter 'allowedIPAddresses' was provided an invalid value. Expected a value of type 'Array', but received a value of type 'String'.\n"})}),"\n",(0,a.jsx)(t.p,{children:"This is down to the fact that Bash arrays when used with the Azure CLI can be a little surprising. If we initialise a single item array then it's not an array. It's a string. This is a bit of a pain when you're trying to pass a single item array to a Bicep template. It's possible to work around this with JSON and Bicep user defined types. Let's see how."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"title image reading &quot;Bicep user defined types and Bash single item arrays&quot; with a Bicep logo",src:i(37515).A+"",width:"800",height:"450",loading:"eager",fetchpriority:"high"})})]})}function c(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},27344:(e,t,i)=>{i.d(t,{A:()=>a});const a=i.p+"assets/images/title-image-ad052f8c8859dde8b4c7d099dcd82943.png"},37515:(e,t,i)=>{i.d(t,{A:()=>a});const a=i.p+"assets/images/title-image-ad052f8c8859dde8b4c7d099dcd82943.png"},28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>o});var a=i(96540);const n={},s=a.createContext(n);function r(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);