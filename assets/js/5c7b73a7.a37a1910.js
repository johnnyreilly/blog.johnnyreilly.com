"use strict";(self.webpackChunkjohnnyreilly_com=self.webpackChunkjohnnyreilly_com||[]).push([[89163],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=d(n),p=i,h=u["".concat(l,".").concat(p)]||u[p]||m[p]||r;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,o[1]=s;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},85410:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>d,toc:()=>u});n(67294);var a=n(3905);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const s={slug:"a-nicer-net-api-for-bloombergs-open-api",title:"Getting up to speed with Bloomberg's Open API...",authors:"johnnyreilly",tags:["asp.net","c#"],hide_table_of_contents:!1,description:"John documents his experience investigating Bloombergs Open API. He includes a simple C# console application wrapper for the API."},l=void 0,d={permalink:"/a-nicer-net-api-for-bloombergs-open-api",editUrl:"https://github.com/johnnyreilly/blog.johnnyreilly.com/edit/main/blog-website/blog/2012-11-13-a-nicer-net-api-for-bloombergs-open-api/index.md",source:"@site/blog/2012-11-13-a-nicer-net-api-for-bloombergs-open-api/index.md",title:"Getting up to speed with Bloomberg's Open API...",description:"John documents his experience investigating Bloombergs Open API. He includes a simple C# console application wrapper for the API.",date:"2012-11-13T00:00:00.000Z",formattedDate:"November 13, 2012",tags:[{label:"asp.net",permalink:"/tags/asp-net"},{label:"c#",permalink:"/tags/c"}],readingTime:11.39,hasTruncateMarker:!0,authors:[{name:"John Reilly",title:"OSS Engineer - TypeScript, Azure, React, Node.js, .NET",url:"https://johnnyreilly.com/about",imageURL:"https://johnnyreilly.com/img/profile.jpg",key:"johnnyreilly"}],frontMatter:{slug:"a-nicer-net-api-for-bloombergs-open-api",title:"Getting up to speed with Bloomberg's Open API...",authors:"johnnyreilly",tags:["asp.net","c#"],hide_table_of_contents:!1,description:"John documents his experience investigating Bloombergs Open API. He includes a simple C# console application wrapper for the API."},prevItem:{title:"HTML to PDF using a WCF Service",permalink:"/html-to-pdf-using-wcf-service"},nextItem:{title:"XSD/XML Schema Generator + Xsd.exe:Taking the pain out of manual XML",permalink:"/xsdxml-schema-generator-xsdexe-taking"}},c={authorsImageUrls:[void 0]},u=[{value:"Research",id:"research",level:2},{value:"Hello World?",id:"hello-world",level:2},{value:"He&#39;s the Bloomberg, I&#39;m the Wrapper",id:"hes-the-bloomberg-im-the-wrapper",level:2},{value:"Updated (07/12/2012)",id:"updated-07122012",level:2},{value:"Note to self (because I keep forgetting)",id:"note-to-self-because-i-keep-forgetting",level:2}],m={toc:u};function p(e){var{components:t}=e,n=o(e,["components"]);return(0,a.kt)("wrapper",r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},m,n),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"A good portion of any devs life is usually spent playing with APIs. If you need to integrate some other system into the system you're working on (and it's rare to come upon a situation where this doesn't happen at some point) then it's API time."),(0,a.kt)("p",null,"Some APIs are well documented and nice to use. Some aren't. I recently spent a goodly period of time investigating ",(0,a.kt)("a",{parentName:"p",href:"http://www.openbloomberg.com/open-api/"},"Bloomberg's Open API")," and it was a slightly painful experience. So much so that I thought it best to write up my own experiences and maybe I can save others time and a bit of pain."),(0,a.kt)("p",null,"Also, as I investigated the Bloomberg Open API I found myself coming up with my own little mini-C#-API. (It's generally a sure sign you've found an API you don't love if you end up writing your own wrapper.) This mini API did the heavy lifting for me and just handed back nicely structured data to deal with. I have included this wrapper here as well."),(0,a.kt)("h2",{id:"research"},"Research"),(0,a.kt)("p",null,"The initial plan was to, through code, extract Libor and Euribor rates from Bloomberg. I had access to a Bloomberg terminal and I had access to the internet - what could stop me? After digging around for a little while I found some useful resources that could be accessed from the Bloomberg terminal:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Typing \u201c",(0,a.kt)("inlineCode",{parentName:"li"},"WAPI&lt;GO&gt;"),"\u201d into Bloomberg lead me to the Bloomberg API documentation."),(0,a.kt)("li",{parentName:"ol"},"Typing \u201c",(0,a.kt)("inlineCode",{parentName:"li"},"DOCS 2055451&lt;GO&gt;"),"\u201d into Bloomberg (I know - it's a bit cryptic) provided me with samples of how to use the Bloomberg API in VBA")),(0,a.kt)("p",null,"To go with this I found some useful documentation of the Bloomberg Open API ",(0,a.kt)("a",{parentName:"p",href:"http://www.openbloomberg.com/files/2012/10/blpapi-developers-guide.pdf"},"here")," and I found the .NET Bloomberg Open API itself ",(0,a.kt)("a",{parentName:"p",href:"http://www.openbloomberg.com/open-api/"},"here"),"."),(0,a.kt)("h2",{id:"hello-world"},"Hello World?"),(0,a.kt)("p",null,"The first goal when getting up to speed with an API is getting it to do something. Anything. Just stick a fork into it and see if it croaks. Sticking a fork into Open API was achieved by taking the 30-odd example apps included in the Bloomberg Open API and running each in turn on the Bloomberg box until I had my \"he's alive!!\" moment. (I did find it surprising that not all of the examples worked - I don't know if there's a good reason for this...)"),(0,a.kt)("p",null,"However, when I tried to write my own C# console application to interrogate the Open API it wasn't as plain sailing as I'd hoped. I'd write something that looked correct, compiled successfully and deploy it onto the Bloomberg terminal only to have it die a sad death whenever I tried to fire it off."),(0,a.kt)("p",null,"I generally find the fastest way to get up and running with an API is to debug it. To make calls to the API and then examine, field by field and method by method, what is actually there. This wasn't really an option with my console app though. I was using a shared Bloomberg terminal with very limited access. No Visual Studio on the box and no remote debugging enabled."),(0,a.kt)("p",null,"It was then that I had something of a eureka moment. I realised that the code in the VBA samples I'd downloaded from Bloomberg looked quite similar to the C# code samples that shipped with Open API. Hmmmm.... Shortly after this I found myself sat at the Bloomberg machine debugging the Bloomberg API using the VBA IDE in Excel. (For the record, these debugging tools are aren't too bad at all - they're nowhere near as slick as their VS counterparts but they do the job.) This was my ",(0,a.kt)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/Rosetta_Stone"},"Rosetta Stone")," ","-"," I could take what I'd learned from the VBA samples and translate that into equivalent C# / .NET code (bearing in mind what I'd learned from debugging in Excel and in fact sometimes bringing along the VBA comments themselves if they provided some useful insight)."),(0,a.kt)("h2",{id:"hes-the-bloomberg-im-the-wrapper"},"He's the Bloomberg, I'm the Wrapper"),(0,a.kt)("p",null,"So I'm off and romping... I have something that works. Hallelujah! Now that that hurdle had been crossed I found myself examining the actual Bloomberg API code itself. It functioned just fine but it did a couple of things that I wasn't too keen on:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"The Bloomberg API came with custom data types. I didn't want to use these unless it was absolutely necessary - I just wanted to stick to the standard .NET types. This way if I needed to hand data onto another application I wouldn't be making each of these applications dependant on the Bloomberg Open API."),(0,a.kt)("li",{parentName:"ol"},"To get the data out of the Bloomberg API there was an awful lot of boilerplate. Code which handled the possibilities of very large responses that might be split into several packages. Code which walked the element tree returned from Bloomberg parsing out the data. It wasn't a beacon of simplicity.")),(0,a.kt)("p",null,'I wanted an API that I could simply invoke with security codes and required fields. And in return I wanted to be passed nicely structured data. As I\'ve already mentioned a desire to not introduce unnecessary dependencies I thought it might well suit to make use of nested Dictionaries. I came up with a simple C# Console project / application which had a reference to the Bloomberg Open API. It contained the following class; essentially my wrapper for Open API operations: (please note this is deliberately a very "bare-bones" implementation)'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cs"},'using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nusing Bloomberglp.Blpapi;\n\nnamespace BloombergConsole\n{\n    class BloombergApi\n    {\n        #region Members / Contructors\n\n        private Session _session = null;\n        private Service _refDataService = null;\n\n        private readonly string _serverHost;\n        private readonly int _serverPort;\n\n        public BloombergApi(string serverHost = "localhost", int serverPort = 8194)\n        {\n            _serverHost = serverHost;\n            _serverPort = serverPort;\n        }\n\n        /// <summary>\n        /// Initialise the Session and the Service\n        /// </summary>\n        internal void InitialiseSessionAndService()\n        {\n            if (_session == null)\n            {\n                var sessionOptions = new SessionOptions\n                {\n                    ServerHost = _serverHost,\n                    ServerPort = _serverPort\n                };\n\n                //Console.WriteLine("Connecting to {0}:{1}", sessionOptions.ServerHost, sessionOptions.ServerPort);\n\n                _session = new Session(sessionOptions);\n\n                if (!_session.Start())\n                    throw new Exception("Failed to connect!");\n\n                if (!_session.OpenService("//blp/refdata"))\n                {\n                    _session.Stop();\n                    _session = null;\n\n                    throw new Exception("Failed to open //blp/refdata");\n                }\n\n                _refDataService = _session.GetService("//blp/refdata");\n            }\n        }\n\n        /// <summary>\n        /// Dispose the Session and the Service\n        /// </summary>\n        internal void DisposeSessionAndService()\n        {\n            _refDataService = null;\n\n            //Stop the session\n            if (_session != null)\n            {\n                _session.Stop();\n                _session = null;\n            }\n        }\n\n        #endregion\n\n        #region Methods\n\n        internal Dictionary<string,    //Security\n            Dictionary<string, object> //Fields and values\n            > GetSecuritiesFields(string[] securities, string[] fields)\n        {\n            var securitiesFields = new Dictionary<string, Dictionary<string, object>>();\n\n            //Create request\n            var referenceDataRequest = _refDataService.CreateRequest("ReferenceDataRequest");\n\n            //Securities\n            var securitiesElement = referenceDataRequest.GetElement("securities");\n            foreach (var security in securities)\n                securitiesElement.AppendValue(security);\n\n            //Fields\n            var fieldsElement = referenceDataRequest.GetElement("fields");\n            foreach (var field in fields)\n                fieldsElement.AppendValue(field);\n\n            //   Send off request\n            _session.SendRequest(referenceDataRequest, null);\n\n            //   Start with our flag set to False for not done\n            var done = false;\n\n            //   Continue as long as we are not done\n            while (!done)\n            {\n                //   Retrieve next event from the server\n                var eventObj = _session.NextEvent();\n\n                //   As long as we have a partial or final response, start to process data\n                if (eventObj.Type == Event.EventType.RESPONSE ||\n                    eventObj.Type == Event.EventType.PARTIAL_RESPONSE)\n                {\n                    //  Loop through messages\n                    foreach (Message msg in eventObj)\n                    {\n                        //   Error handler in case of problem which throws meaningful exception\n                        if (msg.AsElement.HasElement("responseError"))\n                            throw new Exception("Response error:  " + msg.GetElement("responseError").GetElement("message"));\n\n                        //   Extract the securityData top layer and the field data\n                        //   History comes back on a single security basis so no looping there\n                        var securityDataArray = msg.GetElement("securityData");\n\n                        //   Loop through each security\n                        for (var i = 0; i < securityDataArray.NumValues; i++)\n                        {\n                            //   First take out the security object...\n                            var security = securityDataArray.GetValueAsElement(i);\n\n                            var securityName = security.GetElementAsString("security");\n\n                            //   ... then extract the fieldData object\n                            var fieldData = security.GetElement("fieldData");\n\n                            //If we need to add a new security to the securitiesFields dictionary then do so\n                            Dictionary<string, object> results = null;\n                            if (!securitiesFields.ContainsKey(securityName))\n                                securitiesFields.Add(securityName, new Dictionary<string, object>());\n\n                            //Get the fieldsByDate dictionary from the securitiesFields dictionary\n                            results = securitiesFields[securityName];\n\n                            //Extract results and store in results dictionary\n                            foreach (var dataElement in fieldData.Elements)\n                            {\n                                var dataElementName = dataElement.Name.ToString();\n\n                                //Not using this at present - just demonstrating that we can\n                                switch (dataElement.Datatype)\n                                {\n                                    //Special handling to co-erce bloomberg datetimes back to standard .NET datetimes\n                                    case Schema.Datatype.DATE:\n                                        results.Add(dataElementName, dataElement.GetValueAsDate().ToSystemDateTime());\n                                        break;\n                                    case Schema.Datatype.DATETIME:\n                                        results.Add(dataElementName, dataElement.GetValueAsDatetime().ToSystemDateTime());\n                                        break;\n                                    case Schema.Datatype.TIME:\n                                        results.Add(dataElementName, dataElement.GetValueAsDatetime().ToSystemDateTime());\n                                        break;\n\n                                    //Standard handling\n                                    default:\n                                        results.Add(dataElementName, dataElement.GetValue());\n                                        break;\n                                }\n                            }\n                        }\n                    }\n\n                    //   Once we have a response we are done\n                    if (eventObj.Type == Event.EventType.RESPONSE) done = true;\n                }\n            }\n\n            return securitiesFields;\n        }\n\n        internal Dictionary<string,     //Security\n            Dictionary<DateTime,        //DateTime of security\n            Dictionary<string, object>> //Fields and values\n            > GetSecuritiesFieldsByDate(string[] securities, string[] fields, DateTime startDate, DateTime endDate)\n        {\n            var securitiesFieldsByDate = new Dictionary<string, Dictionary<DateTime, Dictionary<string, object>>>();\n\n            //Create request\n            var historyDataRequest = _refDataService.CreateRequest("HistoricalDataRequest");\n\n            //Securities\n            var securitiesElement = historyDataRequest.GetElement("securities");\n            foreach (var security in securities)\n                securitiesElement.AppendValue(security);\n\n            //Fields\n            var fieldsElement = historyDataRequest.GetElement("fields");\n            foreach (var field in fields)\n                fieldsElement.AppendValue(field);\n\n            //   Set the start date and end date as YYYYMMDD strings\n            historyDataRequest.Set("startDate", startDate.ToString("yyyyMMdd"));\n            historyDataRequest.Set("endDate", endDate.ToString("yyyyMMdd"));\n\n            //   Send off request\n            _session.SendRequest(historyDataRequest, null);\n\n            //   Start with our flag set to False for not done\n            var done = false;\n\n            //   Continue as long as we are not done\n            while (!done)\n            {\n                //   Retrieve next event from the server\n                var eventObj = _session.NextEvent();\n\n                //   As long as we have a partial or final response, start to process data\n                if (eventObj.Type == Event.EventType.RESPONSE ||\n                    eventObj.Type == Event.EventType.PARTIAL_RESPONSE)\n                {\n                    //  Loop through messages\n                    foreach (Message msg in eventObj)\n                    {\n                        //   Error handler in case of problem which throws meaningful exception\n                        if (msg.AsElement.HasElement("responseError"))\n                            throw new Exception("Response error:  " + msg.GetElement("responseError").GetElement("message"));\n\n                        //   Extract the securityData top layer and the field data\n                        //   History comes back on a single security basis so no looping there\n                        var security = msg.GetElement("securityData");\n                        var securityName = security.GetElementAsString("security");\n                        var fieldData = security.GetElement("fieldData");\n\n                        //   Extract the data for each requested field\n                        for (var i = 0; i < fieldData.NumValues; i++)\n                        {\n                            var data = fieldData.GetValueAsElement(i);\n\n                            //   First get the date - this is our key\n                            var date = data.GetElementAsDate("date").ToSystemDateTime();\n\n                            //If we need to add a new security to the securitiesFieldsByDate dictionary then do so\n                            Dictionary<DateTime, Dictionary<string, object>> fieldsByDate = null;\n                            if (!securitiesFieldsByDate.ContainsKey(securityName))\n                                securitiesFieldsByDate.Add(securityName, new Dictionary<DateTime, Dictionary<string, object>>());\n\n                            //Get the fieldsByDate dictionary from the securitiesFieldsByDate dictionary\n                            fieldsByDate = securitiesFieldsByDate[securityName];\n\n                            //Extract results and store in results dictionary\n                            var results = new Dictionary<string, object>();\n                            foreach (var dataElement in data.Elements)\n                            {\n                                var dataElementName = dataElement.Name.ToString();\n\n                                //Not using this at present - just demonstrating that we can\n                                switch (dataElement.Datatype)\n                                {\n                                    //Special handling to co-erce bloomberg datetimes back to standard .NET datetimes\n                                    case Schema.Datatype.DATE:\n                                        results.Add(dataElementName, dataElement.GetValueAsDate().ToSystemDateTime());\n                                        break;\n                                    case Schema.Datatype.DATETIME:\n                                        results.Add(dataElementName, dataElement.GetValueAsDatetime().ToSystemDateTime());\n                                        break;\n                                    case Schema.Datatype.TIME:\n                                        results.Add(dataElementName, dataElement.GetValueAsDatetime().ToSystemDateTime());\n                                        break;\n\n                                    //Standard handling\n                                    default:\n                                        results.Add(dataElementName, dataElement.GetValue());\n                                        break;\n                                }\n                            }\n\n                            //Save results dictionary to fieldsByDate dictionary\n                            fieldsByDate.Add(date, results);\n                        }\n                    }\n\n                    //   Once we have a response we are done\n                    if (eventObj.Type == Event.EventType.RESPONSE) done = true;\n                }\n            }\n\n            return securitiesFieldsByDate;\n        }\n\n        #endregion\n    }\n}\n')),(0,a.kt)("p",null,"The project also contained this class which demonstrates how I made use of my wrapper:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-cs"},'using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\n\nnamespace BloombergConsole\n{\n    class NicerBloombergApiDemo\n    {\n        internal const string PX_LAST = "PX_LAST";\n        internal const string PREV_CLOSE_VALUE_REALTIME = "PREV_CLOSE_VALUE_REALTIME";\n        internal const string CHG_NET_1D = "CHG_NET_1D";\n        internal const string CHG_PCT_1D = "CHG_PCT_1D";\n        internal const string CHG_PCT_YTD = "CHG_PCT_YTD";\n\n        internal const string LIBOR_1_MONTH = "BP0001M Index";\n        internal const string LIBOR_3_MONTH = "BP0003M Index";\n        internal const string LIBOR_6_MONTH = "BP0006M Index";\n        internal const string EURIBOR_1_MONTH = "EUR001M Index";\n        internal const string EURIBOR_3_MONTH = "EUR003M Index";\n        internal const string EURIBOR_6_MONTH = "EUR006M Index";\n\n        /// <summary>\n        /// A demo of the nicer client\n        /// </summary>\n        /// <param name="args"></param>\n        public static void Main(String[] args)\n        {\n            System.Console.WriteLine("Bloomberg console demo...");\n\n            var startDateTime = DateTime.Today.AddDays(-3);\n            var endDateTime = DateTime.Today;\n\n            var nicerApi = new BloombergApi();\n            nicerApi.InitialiseSessionAndService();\n            try\n            {\n                //Get fields for given dates\n                var securitiesFieldsByDate = nicerApi.GetSecuritiesFieldsByDate(\n                    new string[] { LIBOR_1_MONTH, LIBOR_3_MONTH, LIBOR_6_MONTH, EURIBOR_1_MONTH, EURIBOR_3_MONTH, EURIBOR_6_MONTH\n                    },\n                    new string[] { PREV_CLOSE_VALUE_REALTIME, PX_LAST, CHG_NET_1D, CHG_PCT_1D, CHG_PCT_YTD\n                    },\n                    startDateTime, endDateTime);\n                Console.WriteLine("\\r\\nGetSecuritiesFieldsByDate");\n\n                //Loop by security\n                foreach (var security in securitiesFieldsByDate)\n                {\n                    Console.WriteLine("Security: {0}", security.Key);\n\n                    //Loop by date\n                    foreach (var dateAndFields in security.Value.OrderBy(d => d.Key))\n                    {\n                        Console.WriteLine(dateAndFields.Key.ToString("yyyy-MM-dd"));\n\n                        //Loop by field\n                        foreach (var keyValue in dateAndFields.Value)\n                        {\n                            Console.WriteLine("{0}: {1} ({2})", keyValue.Key, keyValue.Value, keyValue.Value.GetType());\n                        }\n                    }\n                }\n                Console.WriteLine();\n\n                //Get current rates\n                var flashRates = nicerApi.GetSecuritiesFields(\n                    new string[] { LIBOR_1_MONTH, LIBOR_3_MONTH, LIBOR_6_MONTH, EURIBOR_1_MONTH, EURIBOR_3_MONTH, EURIBOR_6_MONTH\n                    },\n                    new string[] { PREV_CLOSE_VALUE_REALTIME, PX_LAST, CHG_NET_1D, CHG_PCT_1D, CHG_PCT_YTD\n                    });\n                foreach (var securityAndFields in flashRates.OrderBy(d => d.Key))\n                {\n                    Console.WriteLine(securityAndFields.Key);\n                    foreach (var keyValue in securityAndFields.Value)\n                        Console.WriteLine("{0}: {1} ({2})", keyValue.Key, keyValue.Value, keyValue.Value.GetType());\n                }\n                Console.WriteLine();\n            }\n            catch (Exception e)\n            {\n                System.Console.WriteLine(e.ToString());\n            }\n\n            System.Console.WriteLine("Press ENTER to quit");\n            try\n            {\n                System.Console.Read();\n            }\n            catch (System.IO.IOException)\n            {\n            }\n        }\n    }\n}\n')),(0,a.kt)("p",null,"This covered my bases. It was simple, it was easy to consume and it didn't require any custom types. My mini-API is only really catering for my own needs (unsurprisingly). However, there's lots more to the Bloomberg Open API and I may end up taking this further in the future if I encounter use cases that my current API doesn't cover."),(0,a.kt)("h2",{id:"updated-07122012"},"Updated (07/12/2012)"),(0,a.kt)("p",null,"Finally, a PS. I found in the ",(0,a.kt)("a",{parentName:"p",href:"http://www.openbloomberg.com/faq/"},"Open API FAQs")," that ",(0,a.kt)("em",{parentName:"p"},'"Testing any of that functionality currently requires a valid Bloomberg Desktop API (DAPI), Server API (SAPI) or Managed B-Pipe subscription. Bloomberg is planning on releasing a stand-alone simulator which will not require a subscription."')," There isn't any word yet on this stand-alone simulator. I emailed Bloomberg at ",(0,a.kt)("a",{parentName:"p",href:"mailto:open-tech@bloomberg.net"},"open-tech@bloomberg.net")," to ask about this. They kindly replied that ",(0,a.kt)("em",{parentName:"p"},'"Unfortunately it is not yet available. We understand that this makes testing API applications somewhat impractical, so we\'re continuing to work on this tool."')," Fingers crossed for something we can test soon!"),(0,a.kt)("h2",{id:"note-to-self-because-i-keep-forgetting"},"Note to self (because I keep forgetting)"),(0,a.kt)("p",null,"If you're looking to investigate what data is available about a security in Bloomberg it's worth typing \u201c",(0,a.kt)("inlineCode",{parentName:"p"},"FLDS&lt;GO&gt;"),"\u201d into Bloomberg. This is the Bloomberg Fields Finder. Likewise, if you're trying to find a security you could try typing \u201c",(0,a.kt)("inlineCode",{parentName:"p"},"SECF&lt;GO&gt;"),"\u201d into Bloomberg as this is the Security Finder."))}p.isMDXComponent=!0}}]);