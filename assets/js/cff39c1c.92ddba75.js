"use strict";(self.webpackChunkjohnnyreilly_com=self.webpackChunkjohnnyreilly_com||[]).push([[80366],{99206:(t,e,o)=>{o.r(e),o.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>h});var s=o(85893),n=o(11151);const i={slug:"snapshot-log-tests-dotnet",title:"Snapshot log tests in .NET",authors:"johnnyreilly",tags:["asp.net","c#","automated testing"],image:"./title-image.png",description:"This post demonstrates how to write high quality and low effort log assertions using snapshot testing.",hide_table_of_contents:!1},a=void 0,r={permalink:"/snapshot-log-tests-dotnet",editUrl:"https://github.com/johnnyreilly/blog.johnnyreilly.com/edit/main/blog-website/blog/2023-12-20-snapshot-log-tests-dotnet/index.md",source:"@site/blog/2023-12-20-snapshot-log-tests-dotnet/index.md",title:"Snapshot log tests in .NET",description:"This post demonstrates how to write high quality and low effort log assertions using snapshot testing.",date:"2023-12-20T00:00:00.000Z",formattedDate:"December 20, 2023",tags:[{label:"asp.net",permalink:"/tags/asp-net"},{label:"c#",permalink:"/tags/c"},{label:"automated testing",permalink:"/tags/automated-testing"}],readingTime:7.125,hasTruncateMarker:!0,authors:[{name:"John Reilly",title:"OSS Engineer - TypeScript, Azure, React, Node.js, .NET",url:"https://johnnyreilly.com/about",imageURL:"https://johnnyreilly.com/img/profile.jpg",key:"johnnyreilly"}],frontMatter:{slug:"snapshot-log-tests-dotnet",title:"Snapshot log tests in .NET",authors:"johnnyreilly",tags:["asp.net","c#","automated testing"],image:"./title-image.png",description:"This post demonstrates how to write high quality and low effort log assertions using snapshot testing.",hide_table_of_contents:!1},unlisted:!1,prevItem:{title:"Schemar: a GitHub Action to validate structured data",permalink:"/schemar-github-action-to-validate-structured-data"},nextItem:{title:"Overview of Bun, a JavaScript runtime",permalink:"/bun-overview"}},l={image:o(30273).Z,authorsImageUrls:[void 0]},h=[];function g(t){const e={img:"img",p:"p",...(0,n.a)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"Writing tests is important. The easier it is to write tests, the more likely they'll be written. I've long loved snapshot testing for this reason. Snapshot testing takes away the need to manually write verification code in your tests. Instead, you write tests that compare the output of a call to your method with JSON serialised output you've generated on a previous occasion. This approach takes less time to write, less time to maintain, and the solid readability of JSON makes it more likely you'll pick up on bugs. It's so much easier to scan JSON than it is a list of assertions."}),"\n",(0,s.jsx)(e.p,{children:"Loving snapshot testing as I do, I want to show you how to write high quality and low effort log assertions using snapshot testing. The behaviour of logging code is really important; it's this that we tend to rely upon when debugging production issues. But how do you test logging code? Well, you could write a bunch of assertions that check how your logger is used. But that's a lot of work, it's not super readable and it's not fun. (Always remember: if it's not fun, you're doing it wrong.)"}),"\n",(0,s.jsx)(e.p,{children:"Instead, we'll achieve this using snapshot testing."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"title image reading &quot;Snapshot log tests in .NET&quot; with the .NET logo",src:o(95004).Z+"",width:"800",height:"450",loading:"eager",fetchpriority:"high"})})]})}function u(t={}){const{wrapper:e}={...(0,n.a)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(g,{...t})}):g(t)}},30273:(t,e,o)=>{o.d(e,{Z:()=>s});const s=o.p+"assets/images/title-image-86eb28c76643a3ea99cad34ff1006d94.png"},95004:(t,e,o)=>{o.d(e,{Z:()=>s});const s=o.p+"assets/images/title-image-86eb28c76643a3ea99cad34ff1006d94.png"},11151:(t,e,o)=>{o.d(e,{Z:()=>r,a:()=>a});var s=o(67294);const n={},i=s.createContext(n);function a(t){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function r(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(n):t.components||n:a(t.components),s.createElement(i.Provider,{value:e},t.children)}}}]);