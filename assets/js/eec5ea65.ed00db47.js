"use strict";(self.webpackChunkjohnnyreilly_com=self.webpackChunkjohnnyreilly_com||[]).push([[65368],{27344:(e,t,a)=>{a.d(t,{A:()=>i});const i=a.p+"assets/images/title-image-ad052f8c8859dde8b4c7d099dcd82943.png"},28453:(e,t,a)=>{a.d(t,{R:()=>r,x:()=>l});var i=a(96540);const n={},s=i.createContext(n);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(s.Provider,{value:t},e.children)}},37515:(e,t,a)=>{a.d(t,{A:()=>i});const i=a.p+"assets/images/title-image-ad052f8c8859dde8b4c7d099dcd82943.png"},41313:e=>{e.exports=JSON.parse('{"permalink":"/bicep-user-defined-types-and-bash-single-item-arrays","editUrl":"https://github.com/johnnyreilly/blog.johnnyreilly.com/edit/main/blog-website/blog/2023-04-05-bicep-user-defined-types-and-bash-single-item-arrays/index.md","source":"@site/blog/2023-04-05-bicep-user-defined-types-and-bash-single-item-arrays/index.md","title":"Bicep user defined types and Bash single item arrays","description":"The error \\"Expected a value of type \\\\\'Array\\\\\', but received a value of type \\\\\'String\\\\\'\\", presents when wrestling with the AZ CLI, Bash single item arrays and Bicep.","date":"2023-04-05T00:00:00.000Z","tags":[{"inline":false,"label":"Bicep","permalink":"/tags/bicep","description":"The Bicep language for Azure Resource Manager templates."}],"readingTime":4.12,"hasTruncateMarker":true,"authors":[{"name":"John Reilly","title":"OSS Engineer - TypeScript, Azure, React, Node.js, .NET","url":"https://johnnyreilly.com/about","imageURL":"https://johnnyreilly.com/img/profile.jpg","key":"johnnyreilly","page":null}],"frontMatter":{"slug":"bicep-user-defined-types-and-bash-single-item-arrays","title":"Bicep user defined types and Bash single item arrays","authors":"johnnyreilly","tags":["bicep"],"image":"./title-image.png","description":"The error \\"Expected a value of type \\\\\'Array\\\\\', but received a value of type \\\\\'String\\\\\'\\", presents when wrestling with the AZ CLI, Bash single item arrays and Bicep.","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"Docusaurus: Structured Data FAQs with MDX","permalink":"/docusaurus-structured-data-faqs-mdx"},"nextItem":{"title":"Playwright, GitHub Actions and Azure Static Web Apps staging environments","permalink":"/playwright-github-actions-and-azure-static-web-apps-staging-environments"}}')},59654:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var i=a(41313),n=a(74848),s=a(28453);const r={slug:"bicep-user-defined-types-and-bash-single-item-arrays",title:"Bicep user defined types and Bash single item arrays",authors:"johnnyreilly",tags:["bicep"],image:"./title-image.png",description:"The error \"Expected a value of type 'Array', but received a value of type 'String'\", presents when wrestling with the AZ CLI, Bash single item arrays and Bicep.",hide_table_of_contents:!1},l=void 0,o={image:a(27344).A,authorsImageUrls:[void 0]},d=[];function p(e){const t={code:"code",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"When sending a single item array to a Bicep template you may get an error like this:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"ERROR: InvalidTemplate - Deployment template validation failed: 'Template parameter 'allowedIPAddresses' was provided an invalid value. Expected a value of type 'Array', but received a value of type 'String'.\n"})}),"\n",(0,n.jsx)(t.p,{children:"This is down to the fact that Bash arrays when used with the Azure CLI can be a little surprising. If we initialise a single item array then it's not an array. It's a string. This is a bit of a pain when you're trying to pass a single item array to a Bicep template. It's possible to work around this with JSON and Bicep user defined types. Let's see how."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"title image reading &quot;Bicep user defined types and Bash single item arrays&quot; with a Bicep logo",src:a(37515).A+"",width:"800",height:"450",loading:"lazy"})})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}}}]);