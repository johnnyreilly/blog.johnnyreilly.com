"use strict";(self.webpackChunkjohnnyreilly_com=self.webpackChunkjohnnyreilly_com||[]).push([[58417],{28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>p});var t=i(96540);const s={},o=t.createContext(s);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function p(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:n},e.children)}},44753:e=>{e.exports=JSON.parse('{"permalink":"/smuggling-gitignore-npmrc-in-npm-packages","editUrl":"https://github.com/johnnyreilly/blog.johnnyreilly.com/edit/main/blog-website/blog/2024-12-22-smuggling-gitignore-npmrc-in-npm-packages/index.md","source":"@site/blog/2024-12-22-smuggling-gitignore-npmrc-in-npm-packages/index.md","title":"Smuggling .gitignore, .npmrc and friends in npm packages","description":"The npm publish command will not just package up .gitignore and .npmrc files. This post shows how to use zipping and unzipping with postinstall and prepare scripts to include these files into your npm package.","date":"2024-12-22T00:00:00.000Z","tags":[{"inline":false,"label":"Node.js","permalink":"/tags/node-js","description":"The Node.js runtime."}],"readingTime":4.63,"hasTruncateMarker":true,"authors":[{"name":"John Reilly","title":"OSS Engineer - TypeScript, Azure, React, Node.js, .NET","url":"https://johnnyreilly.com/about","imageURL":"https://johnnyreilly.com/img/profile.jpg","key":"johnnyreilly","page":null}],"frontMatter":{"slug":"smuggling-gitignore-npmrc-in-npm-packages","title":"Smuggling .gitignore, .npmrc and friends in npm packages","authors":"johnnyreilly","tags":["node.js"],"image":"./title-image.png","hide_table_of_contents":false,"description":"The npm publish command will not just package up .gitignore and .npmrc files. This post shows how to use zipping and unzipping with postinstall and prepare scripts to include these files into your npm package."},"unlisted":false,"prevItem":{"title":"Slash command your deployment with GitHub Actions","permalink":"/slash-command-your-deployment-with-github-actions"},"nextItem":{"title":"npx and Azure Artifacts: the secret CLI delivery mechanism","permalink":"/npx-and-azure-artifacts-the-secret-cli-delivery-mechanism"}}')},45148:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/title-image-8561ca58b004dee58e58697a4bf27a8e.png"},46346:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>p,default:()=>g,frontMatter:()=>a,metadata:()=>t,toc:()=>l});var t=i(44753),s=i(74848),o=i(28453);const a={slug:"smuggling-gitignore-npmrc-in-npm-packages",title:"Smuggling .gitignore, .npmrc and friends in npm packages",authors:"johnnyreilly",tags:["node.js"],image:"./title-image.png",hide_table_of_contents:!1,description:"The npm publish command will not just package up .gitignore and .npmrc files. This post shows how to use zipping and unzipping with postinstall and prepare scripts to include these files into your npm package."},p=void 0,r={image:i(45148).A,authorsImageUrls:[void 0]},l=[];function c(e){const n={code:"code",img:"img",p:"p",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["I recently needed to include a number of ",(0,s.jsx)(n.code,{children:".gitignore"})," and ",(0,s.jsx)(n.code,{children:".npmrc"})," files in an npm package. I was surprised to find that the ",(0,s.jsx)(n.code,{children:"npm publish"})," command strips these out of the published package by default. As a consequence, This broke my package, and so I needed to find a way to get round this shortcoming."]}),"\n",(0,s.jsxs)(n.p,{children:["I ended up using zipping and unzipping with ",(0,s.jsx)(n.code,{children:"postinstall"})," and ",(0,s.jsx)(n.code,{children:"prepare"})," scripts to include these files into my npm package."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"title image reading &quot;Smuggling dotfiles in npm packages&quot; with the Node.js and npm logos",src:i(97069).A+"",width:"800",height:"450",loading:"lazy"})}),"\n",(0,s.jsxs)(n.p,{children:["This post shows how to use zipping and unzipping with ",(0,s.jsx)(n.code,{children:"postinstall"})," and ",(0,s.jsx)(n.code,{children:"prepare"})," scripts to include these files into your npm package."]})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},97069:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/title-image-8561ca58b004dee58e58697a4bf27a8e.png"}}]);