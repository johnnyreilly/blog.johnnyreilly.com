"use strict";(self.webpackChunkjohnnyreilly_com=self.webpackChunkjohnnyreilly_com||[]).push([[52714],{43876:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>c,toc:()=>l});var i=t(74848),o=t(28453);const s={slug:"output-connection-strings-and-keys-from-azure-bicep",title:"Output connection strings and keys from Azure Bicep",authors:"johnnyreilly",tags:["bicep","azure"],image:"./title-image.png",hide_table_of_contents:!1,description:"Learn how to acquire connection strings and access keys in Azure with Bicep using the `listKeys` helper, and optionally consume them in Azure Pipelines."},r=void 0,c={permalink:"/output-connection-strings-and-keys-from-azure-bicep",editUrl:"https://github.com/johnnyreilly/blog.johnnyreilly.com/edit/main/blog-website/blog/2021-07-07-output-connection-strings-and-keys-from-azure-bicep/index.md",source:"@site/blog/2021-07-07-output-connection-strings-and-keys-from-azure-bicep/index.md",title:"Output connection strings and keys from Azure Bicep",description:"Learn how to acquire connection strings and access keys in Azure with Bicep using the `listKeys` helper, and optionally consume them in Azure Pipelines.",date:"2021-07-07T00:00:00.000Z",tags:[{inline:!1,label:"Bicep",permalink:"/tags/bicep",description:"The Bicep language for Azure Resource Manager templates."},{inline:!1,label:"Azure",permalink:"/tags/azure",description:"The Microsoft cloud platform."}],readingTime:6.38,hasTruncateMarker:!0,authors:[{name:"John Reilly",title:"OSS Engineer - TypeScript, Azure, React, Node.js, .NET",url:"https://johnnyreilly.com/about",imageURL:"https://johnnyreilly.com/img/profile.jpg",key:"johnnyreilly"}],frontMatter:{slug:"output-connection-strings-and-keys-from-azure-bicep",title:"Output connection strings and keys from Azure Bicep",authors:"johnnyreilly",tags:["bicep","azure"],image:"./title-image.png",hide_table_of_contents:!1,description:"Learn how to acquire connection strings and access keys in Azure with Bicep using the `listKeys` helper, and optionally consume them in Azure Pipelines."},unlisted:!1,prevItem:{title:"webpack? esbuild? Why not both?",permalink:"/webpack-esbuild-why-not-both"},nextItem:{title:"C# 9 in-process Azure Functions",permalink:"/c-sharp-9-azure-functions-in-process"}},a={image:t(29914).A,authorsImageUrls:[void 0]},l=[];function u(e){const n={a:"a",code:"code",img:"img",p:"p",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["If we're provisioning resources in Azure with Bicep, we may have a need to acquire the connection strings and keys of our newly deployed infrastructure. For example, the connection strings of an event hub or the access keys of a storage account. Perhaps we'd like to use them to run an end-to-end test, perhaps we'd like to store these secrets somewhere for later consumption. This post shows how to do that using Bicep and the ",(0,i.jsx)(n.code,{children:"listKeys"})," helper. Optionally it shows how we could consume this in Azure Pipelines."]}),"\n",(0,i.jsxs)(n.p,{children:["Please note that exporting keys / connection strings etc from Bicep / ARM templates is generally considered to be a less secure approach. This is because these values will be visible inside the deployments section of the Azure Portal. Anyone who has access to this will be able to see them. An alternative approach would be permissioning our pipeline to access the resources directly. You can read about that approach ",(0,i.jsx)(n.a,{href:"/permissioning-azure-pipelines-bicep-role-assignments",children:"here"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Alternatively, if you're just thinking about how to configure your Azure Container Apps / Azure Static Web Apps / Azure Function Apps etc with connection strings and keys there is another way. You can perform configuration directly within Bicep, without ever exposing secrets. ",(0,i.jsx)(n.a,{href:"/configure-azure-connection-strings-keys-in-azure-bicep",children:"Read about that approach here"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"image which contains the blog title",src:t(54447).A+"",width:"750",height:"250",loading:"eager",fetchpriority:"high"})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},29914:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/title-image-674ca0e9fcf44f133fd835cefe4888e2.png"},54447:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/title-image-674ca0e9fcf44f133fd835cefe4888e2.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var i=t(96540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);