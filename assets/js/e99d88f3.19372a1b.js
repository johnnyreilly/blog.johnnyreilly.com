"use strict";(self.webpackChunkjohnnyreilly_com=self.webpackChunkjohnnyreilly_com||[]).push([[11003],{94473:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var n=i(74848),s=i(28453);const o={slug:"hey-tsconfigjson-where-have-you-been",title:"Hey tsconfig.json, where have you been all my life?",authors:"johnnyreilly",tags:["typescript"],hide_table_of_contents:!1,description:'The creation of a "tsconfig.json" file will eliminate the need for "reference" comments when using TypeScript, reducing barriers between IDEs.'},r=void 0,a={permalink:"/hey-tsconfigjson-where-have-you-been",editUrl:"https://github.com/johnnyreilly/blog.johnnyreilly.com/edit/main/blog-website/blog/2015-02-27-hey-tsconfigjson-where-have-you-been/index.md",source:"@site/blog/2015-02-27-hey-tsconfigjson-where-have-you-been/index.md",title:"Hey tsconfig.json, where have you been all my life?",description:'The creation of a "tsconfig.json" file will eliminate the need for "reference" comments when using TypeScript, reducing barriers between IDEs.',date:"2015-02-27T00:00:00.000Z",tags:[{inline:!1,label:"TypeScript",permalink:"/tags/typescript",description:"The TypeScript programming language."}],readingTime:4.375,hasTruncateMarker:!0,authors:[{name:"John Reilly",title:"OSS Engineer - TypeScript, Azure, React, Node.js, .NET",url:"https://johnnyreilly.com/about",imageURL:"https://johnnyreilly.com/img/profile.jpg",key:"johnnyreilly"}],frontMatter:{slug:"hey-tsconfigjson-where-have-you-been",title:"Hey tsconfig.json, where have you been all my life?",authors:"johnnyreilly",tags:["typescript"],hide_table_of_contents:!1,description:'The creation of a "tsconfig.json" file will eliminate the need for "reference" comments when using TypeScript, reducing barriers between IDEs.'},unlisted:!1,prevItem:{title:"PartialView.ToString()",permalink:"/partialview-tostring"},nextItem:{title:"Using Gulp to inject scripts and styles tags directly into your HTML",permalink:"/using-gulp-in-asp-net-instead-of-web-optimization"}},l={authorsImageUrls:[void 0]},c=[{value:"Implicit Referencing",id:"implicit-referencing",level:2},{value:"Cross-IDE TypeScript projects",id:"cross-ide-typescript-projects",level:2},{value:"<code>tsconfig.json</code>",id:"tsconfigjson",level:2}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Sometimes, you just miss things. Something seismic happens and you had no idea. So it was with ",(0,n.jsx)(t.code,{children:"tsconfig.json"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:['This blog post started life with the name "TypeScript: Some IDEs are more equal than others". I\'d intended to use it summarise a discussion on the ',(0,n.jsx)(t.a,{href:"https://github.com/Microsoft/TypeScript/issues/1066",children:"TypeScript GitHub repo"})," about implicit referencing including a fist shaken at the sky at the injustice of it all. But whilst I was writing it I dicovered things had changed without my knowledge. That's a rather wonderful thing."]}),"\n",(0,n.jsx)(t.h2,{id:"implicit-referencing",children:"Implicit Referencing"}),"\n",(0,n.jsx)(t.p,{children:"Implicit referencing, if you're not aware, is the thing that separates Visual Studio from all other IDEs / text editors. Implicit referencing means that in Visual Studio you don't need to make use of comments at the head of each TypeScript file in order to tell the compiler where it can find the related TypeScript files."}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"reference"})," comments aren't necessary when using Visual Studio because the VS project file is used to drive the files passed to the TypeScript compiler (tsc)."]}),"\n",(0,n.jsx)(t.p,{children:"The upshot of this is that, at time of writing, you can generally look at a TypeScript codebase and tell whether it was written using Visual Studio by opening it up a file at random and eyeballing for something like this at the top:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:'/// <reference path="other-file.ts" />\n'})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:'"A-ha! They\'re using "reference" comments Watson. From this I deduce that the individuals in question are using the internal module approach and using Visual Studio as their IDE. Elementary, my dear fellow, quite elementary."'})}),"\n",(0,n.jsx)(t.p,{children:"This has important implications. Important I tell you, yes important! Well, important if you want to reduce the barriers between Visual Studio and everyone else. And I do. Whilst I love Visual Studio - it's been my daily workhorse for many years - I also love stepping away from it and using something more stripped down. I also like working with other people without mandating that they need to use Visual Studio as well. In the words of Rodney King, \"can't we all get along?\"."}),"\n",(0,n.jsx)(t.h2,{id:"cross-ide-typescript-projects",children:"Cross-IDE TypeScript projects"}),"\n",(0,n.jsxs)(t.p,{children:["I feel I should be clear - you can already set up TypeScript projects to work regardless of IDE. But there's friction. It's not clear cut. You can see a full on discussion around this ",(0,n.jsx)(t.a,{href:"https://github.com/Microsoft/TypeScript/issues/1066",children:"here"})," but in the end it comes down to making a choice between these 3 options:"]}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Set ",(0,n.jsx)(t.code,{children:"<TypeScriptEnabled>false</TypeScriptEnabled>"})," in a project file. ",(0,n.jsx)(t.a,{href:"https://github.com/Microsoft/TypeScript/issues/1066#issuecomment-63727612",children:"This flag effectively deactivates implicit referencing."})," This approach requires that all developers (regardless of IDE) use ",(0,n.jsx)(t.code,{children:"/// &lt;reference"}),"s to build context. Compiler options in VS can be controlled using the project file as is."]}),"\n",(0,n.jsxs)(t.li,{children:["Using Visual Studio without any csproj tweaks. This approach requires that all files will need ",(0,n.jsx)(t.code,{children:"/// &lt;reference"}),"s at their heads in order to build compilation context ",(0,n.jsx)(t.em,{children:"outside"})," of Visual Studio. It's possible that ",(0,n.jsx)(t.code,{children:"/// &lt;reference"}),"s and the csproj could get out of line - care is required to avoid this. Compiler options in VS can be controlled using the project file as is."]}),"\n",(0,n.jsxs)(t.li,{children:["Using just files in Visual Studio with ",(0,n.jsx)(t.code,{children:"/// &lt;reference"}),"s to build compilation context. This scenario also requires that all developers (regardless of IDE) use ",(0,n.jsx)(t.code,{children:"/// &lt;reference"}),"s to build context. In Visual Studio there will be no control over compiler options."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"As you can see - this is sub-optimal. But don't worry - there's a new sheriff in town...."}),"\n",(0,n.jsx)(t.h2,{id:"tsconfigjson",children:(0,n.jsx)(t.code,{children:"tsconfig.json"})}),"\n",(0,n.jsxs)(t.p,{children:["I'd decided to give ",(0,n.jsx)(t.a,{href:"https://github.com/TypeStrong/atom-typescript",children:"Atom TypeScript plugin"})," a go as I heard much enthusiastic noise about it. I fired it up and pointed it at a a TypeScript AngularJS project built in Visual Studio. I was mentally preparing myself for the job of adding all the /// references in when I suddenly noticed a file blinking at me:"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:i(43119).A+"",width:"640",height:"485",loading:"eager",fetchpriority:"high"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"tsconfig.json"}),"? What's that? Time to read ",(0,n.jsx)(t.a,{href:"https://github.com/TypeStrong/atom-typescript#project-support",children:"the docs"}),":"]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["Supported via tsconfig.json (",(0,n.jsx)(t.a,{href:"https://github.com/TypeStrong/atom-typescript/blob/master/docs/tsconfig/index.md",children:"read more"}),") which is going to be the defacto Project file format for the next versions of TypeScript."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:'"read more"? Oh yes indeedy - I think I will "read more"!'}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["A unified project format for TypeScript (",(0,n.jsx)(t.a,{href:"https://github.com/Microsoft/TypeScript/pull/1692",children:"see merged PR on Microsoft/TypeScript"}),"). The TypeScript compiler (1.4 and above) only cares about compilerOptions and files. We add additional features to this ",(0,n.jsx)(t.a,{href:"https://github.com/Microsoft/TypeScript/issues/1955",children:"with the typescript team's approval to extend the file as long as we don't conflict:"})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://github.com/TypeStrong/atom-typescript/blob/e2fa67c4715189b71430f766ed9a92d9fb3255f9/lib/main/tsconfig/tsconfig.ts#L8-L35",children:"compilerOptions"})," similar to what you would pass on the commandline to tsc."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://github.com/TypeStrong/atom-typescript/blob/master/docs/tsconfig/index.md#filesglob",children:"filesGlob"}),": To make it easier for you to just add / remove files in your project we add filesGlob which accepts an array of glob / minimatch / RegExp patterns (similar to grunt)to specify source files."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://github.com/TypeStrong/atom-typescript/blob/master/docs/tsconfig/index.md#format",children:"format"}),": Code formatting options"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://github.com/TypeStrong/atom-typescript/blob/master/docs/tsconfig/index.md#version",children:"version"}),": The TypeScript version"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["That's right folks, we don't need ",(0,n.jsx)(t.code,{children:"/// &lt;reference"}),"s comments anymore. In a blinding flash of light it all changes. We're going from the dark end of the street, to the bright side of the road. ",(0,n.jsx)(t.code,{children:"tsconfig.json"})," is here to ease away the pain and make it all better. Let's enjoy it while we can."]}),"\n",(0,n.jsx)(t.p,{children:"This change should ship with TypeScript 1.5 (hopefully) for those using Visual Studio. For those using Atom TypeScript (and as of today that's includes me) the carnival celebrations can begin now!"}),"\n",(0,n.jsxs)(t.p,{children:["Thanks to ",(0,n.jsx)(t.a,{href:"https://github.com/basarat",children:"@basarat"})," who have quoted at length and ",(0,n.jsx)(t.a,{href:"https://smellegantcode.wordpress.com/",children:"Daniel Earwicker"})," who is the reason that I came to discover ",(0,n.jsx)(t.code,{children:"tsconfig.json"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},43119:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/Screenshot-2015-02-27-16.05.29-437ecf05abfbb13a3e58e687bdb2b34b.webp"},28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>a});var n=i(96540);const s={},o=n.createContext(s);function r(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);