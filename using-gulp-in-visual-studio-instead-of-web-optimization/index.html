<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Using Gulp in Visual Studio instead of Web Optimization | johnnyreilly</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://johnnyreilly.com/img/profile.jpg><meta data-rh=true name=twitter:image content=https://johnnyreilly.com/img/profile.jpg><meta data-rh=true property=og:url content=https://johnnyreilly.com/using-gulp-in-visual-studio-instead-of-web-optimization><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true name=robots content=max-image-preview:large><meta data-rh=true name=monetization content=$ilp.uphold.com/LwQQhXdpwxeJ><meta data-rh=true property=og:title content="Using Gulp in Visual Studio instead of Web Optimization | johnnyreilly"><meta data-rh=true name=description content="The ASP.NET team may replace Web Optimization with Grunt or Gulp. John Reilly tried out Gulp, which concatenates, minimises & version-numbers files."><meta data-rh=true property=og:description content="The ASP.NET team may replace Web Optimization with Grunt or Gulp. John Reilly tried out Gulp, which concatenates, minimises & version-numbers files."><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2014-11-04T00:00:00.000Z><meta data-rh=true property=article:author content=https://johnnyreilly.com/about><meta data-rh=true property=article:tag content="Visual Studio,TypeScript,JavaScript,Node.js"><link data-rh=true rel=icon href=/favicon.ico><link data-rh=true rel=canonical href=https://johnnyreilly.com/using-gulp-in-visual-studio-instead-of-web-optimization><link data-rh=true rel=alternate href=https://johnnyreilly.com/using-gulp-in-visual-studio-instead-of-web-optimization hreflang=en><link data-rh=true rel=alternate href=https://johnnyreilly.com/using-gulp-in-visual-studio-instead-of-web-optimization hreflang=x-default><link data-rh=true rel=preconnect href=https://J3MYR1INLT-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://johnnyreilly.com/using-gulp-in-visual-studio-instead-of-web-optimization","@type":"BlogPosting","author":{"@type":"Person","description":"OSS Engineer - TypeScript, Azure, React, Node.js, .NET","image":"https://johnnyreilly.com/img/profile.jpg","name":"John Reilly","url":"https://johnnyreilly.com/about"},"datePublished":"2014-11-04T00:00:00.000Z","description":"The ASP.NET team may replace Web Optimization with Grunt or Gulp. John Reilly tried out Gulp, which concatenates, minimises & version-numbers files.","headline":"Using Gulp in Visual Studio instead of Web Optimization","isPartOf":{"@id":"https://johnnyreilly.com/","@type":"Blog","name":"I CAN MAKE THIS WORK"},"keywords":[],"mainEntityOfPage":"https://johnnyreilly.com/using-gulp-in-visual-studio-instead-of-web-optimization","name":"Using Gulp in Visual Studio instead of Web Optimization","url":"https://johnnyreilly.com/using-gulp-in-visual-studio-instead-of-web-optimization"}</script><link rel=alternate type=application/rss+xml href=/rss.xml title="I CAN MAKE THIS WORK RSS Feed"><link rel=alternate type=application/atom+xml href=/atom.xml title="I CAN MAKE THIS WORK Atom Feed"><link rel=search type=application/opensearchdescription+xml title=johnnyreilly href=/opensearch.xml><link rel=icon href=/img/profile-64x64.jpg><link rel=manifest href=/manifest.json><meta name=theme-color content=#3578e5><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#000><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=preload href=https://johnnyreilly.com/fonts/Poppins-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=https://johnnyreilly.com/fonts/Poppins-Bold.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preconnect href=https://res.cloudinary.com><link rel=monetization href=https://ilp.uphold.com/LwQQhXdpwxeJ><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@id":"https://johnnyreilly.com","@type":"WebSite","copyrightHolder":{"@id":"https://johnnyreilly.com/about"},"description":"This is John Reilly's blog. John is an Open Source Software Engineer working on TypeScript, Azure, React, Node.js, .NET and more.","inLanguage":"en-UK","name":"johnnyreilly","potentialAction":{"@type":"SearchAction","query-input":"required name=search_term_string","target":{"@type":"EntryPoint","urlTemplate":"https://johnnyreilly.com/search?q={search_term_string}"}},"publisher":{"@id":"https://johnnyreilly.com/about"},"url":"https://johnnyreilly.com"},{"@id":"https://johnnyreilly.com/about","@type":"Person","address":{"@type":"PostalAddress","addressCountry":"United Kingdom","addressLocality":"London","streetAddress":"Twickenham"},"alternateName":"Johnny Reilly","birthPlace":"Bristol","description":"John is an Open Source Software Engineer working on TypeScript, Azure, React, Node.js, .NET and more. As well as writing code, John is a speaker at meetups, one of the founders of the TS Congress conference, and the author of the history of Definitely Typed, which he worked on in the early days of TypeScript.","email":"johnny_reilly@hotmail.com","image":{"@id":"https://johnnyreilly.com/about#image","@type":"ImageObject","caption":"John Reilly","contentUrl":"https://johnnyreilly.com/img/profile.jpg","height":200,"inLanguage":"en-UK","url":"https://johnnyreilly.com/img/profile.jpg","width":200},"name":"John Reilly","sameAs":["https://github.com/johnnyreilly","https://fosstodon.org/@johnny_reilly","https://twitter.com/johnny_reilly","https://bsky.app/profile/johnnyreilly.com","https://dev.to/johnnyreilly","https://app.daily.dev/johnnyreilly","https://stackoverflow.com/users/761388/john-reilly","https://blog.logrocket.com/author/johnreilly/","https://www.reddit.com/user/johnny_reilly","https://uk.linkedin.com/in/johnnyreilly"],"url":"https://johnnyreilly.com"},{"@id":"https://johnnyreilly.com/about#organization","@type":["Organization","Brand"],"description":"This is John Reilly's blog. John is an Open Source Software Engineer working on TypeScript, Azure, React, Node.js, .NET and more.","image":{"@id":"https://johnnyreilly.com/#logo"},"logo":{"@id":"https://johnnyreilly.com/#logo","@type":"ImageObject","caption":"John Reilly","contentUrl":"https://johnnyreilly.com/img/profile.jpg","height":200,"inLanguage":"en-UK","url":"https://johnnyreilly.com/img/profile.jpg","width":200},"name":"johnnyreilly","sameAs":["https://github.com/johnnyreilly","https://fosstodon.org/@johnny_reilly","https://twitter.com/johnny_reilly","https://bsky.app/profile/johnnyreilly.com","https://dev.to/johnnyreilly","https://app.daily.dev/johnnyreilly","https://stackoverflow.com/users/761388/john-reilly","https://blog.logrocket.com/author/johnreilly/","https://www.reddit.com/user/johnny_reilly","https://uk.linkedin.com/in/johnnyreilly"],"url":"https://johnnyreilly.com"}]}</script><link rel=webmention href=https://webmention.io/johnnyreilly.com/webmention><link rel=stylesheet href=/assets/css/styles.172d8ff3.css><script src=/assets/js/runtime~main.4bd3a20c.js defer></script><script src=/assets/js/main.cbf53fd7.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/profile-64x64.jpg><link rel=preload as=image href=https://johnnyreilly.com/img/profile.jpg><link rel=preload as=image href=/assets/images/Screenshot-2014-10-21-17.02.11-e6efce21155e122138e6ea2793f2fa06.webp><script type=application/ld+json>[{"@context":"https://schema.org","@id":"/using-gulp-in-visual-studio-instead-of-web-optimization#breadcrumb","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://johnnyreilly.com","name":"Home","position":1},{"@type":"ListItem","item":"https://johnnyreilly.com/blog","name":"Blog","position":2},{"@type":"ListItem","name":"Using Gulp in Visual Studio instead of Web Optimization","position":3}],"name":"Blog breadcrumb"}]</script><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/profile-64x64.jpg alt="Profile picture of John Reilly" class="themedComponent_mlkZ themedComponent--light_NVdE" height=32 width=32><img src=/img/profile-64x64.jpg alt="Profile picture of John Reilly" class="themedComponent_mlkZ themedComponent--dark_xIcU" height=32 width=32></div><b class="navbar__title text--truncate">John Reilly</b></a><a class="navbar__item navbar__link" href=/about>About</a><a class="navbar__item navbar__link" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/talks>Talks</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/johnnyreilly target=_blank rel=me class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://bsky.app/profile/johnnyreilly.com target=_blank rel=me class="navbar__item navbar__link">Bluesky<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://fosstodon.org/@johnny_reilly target=_blank rel=me class="navbar__item navbar__link">Mastodon<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a href=https://twitter.com/johnny_reilly target=_blank rel=me class="navbar__item navbar__link">Twitter<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role=group><h3 class=yearGroupHeading_rMGB>2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/azure-devops-pull-requests-dynamic-required-reviewers>Azure DevOps: pull requests and dynamic required reviewers</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/typescript-go-pragmatic-choice>TypeScript is going Go: Why it’s the pragmatic choice</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/microsoft-graphclient-filter-endswith-consistencylevel-eventual-header>Microsoft Graph client: how to filter by endswith</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/list-pipelines-with-azure-devops-api>List Pipelines with the Azure DevOps API</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/static-web-apps-cli-local-auth-emulator-with-dotnet-authentication>Static Web Apps CLI: local authentication emulation with ASP.NET</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/nodejs-azure-appinsights-fastify>Node.js, Azure Application Insights, and Fastify</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/get-service-connections-with-azure-devops-api>Get Service Connections with the Azure DevOps API (REST and TypeScript)</a><li class=sidebarItem__DBe><a class=sidebarItemLink_mo7H href=/slash-command-your-deployment-with-github-actions>Slash command your deployment with GitHub Actions</a></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class=title_f1Hy>Using Gulp in Visual Studio instead of Web Optimization</h1><div class="container_mt6G margin-vert--md"><time datetime=2014-11-04T00:00:00.000Z>November 4, 2014</time> · <!-- -->16 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href=https://johnnyreilly.com/about target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_XqGP" src=https://johnnyreilly.com/img/profile.jpg alt="John Reilly"></a><div class="avatar__intro authorDetails_lV9A"><div class=avatar__name><a href=https://johnnyreilly.com/about target=_blank rel="noopener noreferrer"><span class=authorName_yefp>John Reilly</span></a></div><small class=authorTitle_nd0D title="OSS Engineer - TypeScript, Azure, React, Node.js, .NET">OSS Engineer - TypeScript, Azure, React, Node.js, .NET</small><div class=authorSocials_rSDt></div></div></div></div></div></header><div id=__blog-post-container class=markdown><h3 class="anchor anchorWithStickyNavbar_LWe7" id=updated-17022015-ive-taken-the-approach-discussed-in-this-post-a-little-further---you-can-see-here>Updated 17/02/2015: I've taken the approach discussed in this post a little further - you can see <a href=/using-web-optimization-with-mvc-3>here</a><a href=#updated-17022015-ive-taken-the-approach-discussed-in-this-post-a-little-further---you-can-see-here class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h3>
<p>I've used a number of tools to package up JavaScript and CSS in my web apps. <a href=http://getcassette.net/ target=_blank rel="noopener noreferrer">Andrew Davey's tremendous Cassette</a> has been really useful. Also good (although less powerful/magical) has been Microsoft's very own <a href=https://www.nuget.org/packages/Microsoft.AspNet.Web.Optimization/ target=_blank rel="noopener noreferrer">Microsoft.AspNet.Web.Optimization</a> that ships with MVC.</p>
<p>I was watching the <a href="http://youtu.be/NgbA2BxNweE?list=PL0M0zPgJ3HSftTAAHttA3JQU4vOjXFquF" target=_blank rel="noopener noreferrer">ASP.NET Community Standup from October 7th, 2014</a> and learned that the ASP.Net team is not planning to migrate <a href=https://www.nuget.org/packages/Microsoft.AspNet.Web.Optimization/ target=_blank rel="noopener noreferrer">Microsoft.AspNet.Web.Optimization</a> to the next version of ASP.Net. Instead they're looking to make use of JavaScript task runners like <a href=http://gruntjs.com/ target=_blank rel="noopener noreferrer">Grunt</a> and maybe <a href=http://gulpjs.com/ target=_blank rel="noopener noreferrer">Gulp</a>. Perhaps you're even dimly aware that they've been taking steps to make these runners more of a first class citizen in Visual Studio, hence the recent release of the new and groovy <a href=http://visualstudiogallery.msdn.microsoft.com/8e1b4368-4afb-467a-bc13-9650572db708 target=_blank rel="noopener noreferrer">Task Runner Explorer</a>.</p>
<p>Gulp has been on my radar for a while now as has Grunt. By "on my radar" what I really mean is "Hmmmm, I really need to learn this..... perhaps I could wait until the <a href=http://en.wikipedia.org/wiki/Videotape_format_war target=_blank rel="noopener noreferrer">Betamax vs VHS battles</a> are done? Oh never mind, here we go...".</p>
<p>My understanding is that Grunt and Gulp essentially do the same thing (run tasks in JavaScript) but have different approaches. Grunt is more about configuration, Gulp is more about code. At present Gulp also has a performance advantage as it does less IO than Grunt - though I understand that's due to change in the future. But generally my preference is code over configuration. On that basis I decided that I was going to give Gulp first crack.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=bub-bye-web-optimization>Bub bye Web Optimization<a href=#bub-bye-web-optimization class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>I already had a project that used <a href=https://github.com/johnnyreilly/Proverb target=_blank rel="noopener noreferrer">Web Optimization</a> to bundle JavaScript and CSS files. When debugging on my own machine Web Optimization served up the full JavaScript and CSS files. Thanks to the magic of source maps I was able to debug the TypeScript that created the JavaScript files too. Which was nice. When I deployed to production, Web Optimization minified and concatenated the JavaScript and CSS files. This meant I had a single HTTP request for JavaScript and a single HTTP request for CSS. This was also... nooice!</p>
<p>I took a copy of my existing project and created a <a href=https://github.com/johnnyreilly/Proverb-gulp target=_blank rel="noopener noreferrer">new repo for it on GitHub</a>. It was very simple in terms of bundling. It had a <code>BundleConfig</code> that created 2 bundles; 1 for JavaScript and 1 for CSS:</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-cs codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token keyword" style="color:rgb(255, 157, 0)">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(255, 157, 0)">System</span><span class="token namespace punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token namespace" style="color:rgb(255, 157, 0)">Web</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">using</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(255, 157, 0)">System</span><span class="token namespace punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token namespace" style="color:rgb(255, 157, 0)">Web</span><span class="token namespace punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token namespace" style="color:rgb(255, 157, 0)">Optimization</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">namespace</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(255, 157, 0)">Proverb</span><span class="token namespace punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token namespace" style="color:rgb(255, 157, 0)">Web</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token keyword" style="color:rgb(255, 157, 0)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(250, 208, 0)">BundleConfig</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// For more information on bundling, visit http://go.microsoft.com/fwlink/?LinkId=301862</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token keyword" style="color:rgb(255, 157, 0)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">static</span><span class="token plain"> </span><span class="token return-type class-name keyword" style="color:rgb(255, 157, 0)">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">RegisterBundles</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token class-name" style="color:rgb(250, 208, 0)">BundleCollection</span><span class="token plain"> bundles</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token class-name keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> angularApp </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(250, 208, 0)">ScriptBundle</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/angularApp"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">Include</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Vendor Scripts</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/jquery-{version}.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/angular.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/angular-animate.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/angular-route.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/angular-sanitize.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/angular-ui/ui-bootstrap-tpls.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/toastr.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/moment.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/spin.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/scripts/underscore.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Bootstrapping</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/app.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/config.route.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// common Modules</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/common/common.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/common/logger.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/common/spinner.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// common.bootstrap Modules</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/common/bootstrap/bootstrap.dialog.js"</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// directives</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            angularApp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">IncludeDirectory</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/directives"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"*.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// services</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            angularApp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">IncludeDirectory</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/services"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"*.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// controllers</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            angularApp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">IncludeDirectory</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/admin"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"*.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            angularApp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">IncludeDirectory</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/about"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"*.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            angularApp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">IncludeDirectory</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/dashboard"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"*.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            angularApp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">IncludeDirectory</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/layout"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"*.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            angularApp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">IncludeDirectory</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/sayings"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"*.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            angularApp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">IncludeDirectory</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/app/sages"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"*.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            bundles</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">Add</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">angularApp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            bundles</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">Add</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token keyword" style="color:rgb(255, 157, 0)">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name" style="color:rgb(250, 208, 0)">StyleBundle</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">"~/Content/css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token function" style="color:rgb(250, 208, 0)">Include</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/content/ie10mobile.css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/content/bootstrap.css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/content/font-awesome.css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/content/toastr.css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token string" style="color:rgb(165, 255, 144)">"~/content/styles.css"</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>I set myself a task. I wanted to be able to work in *<strong>exactly</strong>* the way I was working now. But using Gulp instead of Web Optimization. I wanted to lose the BundleConfig above and remove Web Optimization from my application, secure in the knowledge that I had lost nothing. Could it be done? Read on!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=installing-gulp-and-associates>Installing Gulp (and Associates)<a href=#installing-gulp-and-associates class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>I fired up Visual Studio and looked for an excuse to use the Task Runner Explorer. The first thing I needed was Gulp. My machine already had Node and NPM installed so I went to the command line to install Gulp globally:</p>
<div class="language-ps codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ps codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token plain">npm install gulp -g</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Now to start to plug Gulp into my web project. It was time to make the introductions: Visual Studio meet NPM. At the root of the web project I created a <code>package.json</code> file by executing the following command and accepting all the defaults:</p>
<div class="language-ps codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ps codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token plain">npm init</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>I wanted to add Gulp as a development dependency of my project: ("Development" because I only need to run tasks at development time. My app has no dependency on Gulp at runtime - at that point it's just about serving up static files.)</p>
<div class="language-ps codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ps codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token plain">npm install gulp --save-dev</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This installs gulp local to the project as a development dependency. As a result we now have a "node_modules" folder sat in our root which contains our node packages. Currently, as our <code>package.json</code> reveals, this is only gulp:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token property" style="color:rgb(255, 157, 0)">"devDependencies"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"gulp"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"^3.8.8"</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>It's time to go to town. Let's install all the packages we're going to need to bundle and minify JavaScript and CSS:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token function" style="color:rgb(250, 208, 0)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">install</span><span class="token plain"> gulp-concat gulp-uglify gulp-rev del path gulp-ignore gulp-asset-manifest gulp-minify-css --save-dev</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This installs the packages as dev dependencies (as you've probably guessed) and leaves us with a list of dev dependencies like this:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token property" style="color:rgb(255, 157, 0)">"devDependencies"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"del"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"^0.1.3"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"gulp"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"^3.8.8"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"gulp-asset-manifest"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"0.0.5"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"gulp-concat"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"^2.4.1"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"gulp-ignore"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"^1.2.1"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"gulp-minify-css"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"^0.3.10"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"gulp-rev"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"^1.1.0"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"gulp-uglify"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"^1.0.1"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">"path"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">"^0.4.9"</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=making-gulpfilejs>Making <code>gulpfile.js</code><a href=#making-gulpfilejs class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>So now I was ready. I had everything I needed to replace my <code>BundleConfig.cs</code>. I created a new file called <code>gulpfile.js</code> in the root of my web project that looked like this:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">/// &lt;vs AfterBuild='default' /></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> gulp </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">require</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'gulp'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Include Our Plugins</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> concat </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">require</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'gulp-concat'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> ignore </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">require</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'gulp-ignore'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> manifest </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">require</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'gulp-asset-manifest'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> minifyCss </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">require</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'gulp-minify-css'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> uglify </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">require</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'gulp-uglify'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> rev </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">require</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'gulp-rev'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> del </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">require</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'del'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> path </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">require</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'path'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> tsjsmapjsSuffix </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'.{ts,js.map,js}'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> excludetsjsmap </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'**/*.{ts,js.map}'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> bundleNames </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">scripts</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'scripts'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">styles</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'styles'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> filesAndFolders </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">base</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'.'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">buildBaseFolder</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'./build/'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">debug</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">release</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">css</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'css'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// The fonts we want Gulp to process</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">fonts</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'./fonts/*.*'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// The scripts we want Gulp to process - adapted from BundleConfig</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">scripts</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Vendor Scripts</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./scripts/angular.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./scripts/angular-animate.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./scripts/angular-route.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./scripts/angular-sanitize.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./scripts/angular-ui/ui-bootstrap-tpls.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./scripts/toastr.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./scripts/moment.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./scripts/spin.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./scripts/underscore.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Bootstrapping</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/app'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/config.route'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// common Modules</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/common/common'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/common/logger'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/common/spinner'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// common.bootstrap Modules</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/common/bootstrap/bootstrap.dialog'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// directives</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/directives/**/*'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// services</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/services/**/*'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// controllers</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/about/**/*'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/admin/**/*'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/dashboard/**/*'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/layout/**/*'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/sages/**/*'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./app/sayings/**/*'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> tsjsmapjsSuffix</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// The styles we want Gulp to process - adapted from BundleConfig</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">styles</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./content/ie10mobile.css'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./content/bootstrap.css'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./content/font-awesome.css'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./content/toastr.css'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">'./content/styles.css'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">debugFolder</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">buildBaseFolder</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'/'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">debug</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'/'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">releaseFolder</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">buildBaseFolder</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'/'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">release</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'/'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic">/**</span><br></span><span class=token-line style=color:#9EFEFF><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> * Create a manifest depending upon the supplied arguments</span><br></span><span class=token-line style=color:#9EFEFF><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> *</span><br></span><span class=token-line style=color:#9EFEFF><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> * </span><span class="token doc-comment comment keyword" style="color:rgb(255, 157, 0);font-style:italic">@param</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(255, 255, 255);font-style:italic">{</span><span class="token doc-comment comment class-name" style="color:rgb(250, 208, 0);font-style:italic">string</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(255, 255, 255);font-style:italic">}</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:rgb(179, 98, 255);font-style:italic">manifestName</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> * </span><span class="token doc-comment comment keyword" style="color:rgb(255, 157, 0);font-style:italic">@param</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(255, 255, 255);font-style:italic">{</span><span class="token doc-comment comment class-name" style="color:rgb(250, 208, 0);font-style:italic">string</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(255, 255, 255);font-style:italic">}</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:rgb(179, 98, 255);font-style:italic">bundleName</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> * </span><span class="token doc-comment comment keyword" style="color:rgb(255, 157, 0);font-style:italic">@param</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(255, 255, 255);font-style:italic">{</span><span class="token doc-comment comment class-name" style="color:rgb(250, 208, 0);font-style:italic">boolean</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(255, 255, 255);font-style:italic">}</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:rgb(179, 98, 255);font-style:italic">includeRelativePath</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> * </span><span class="token doc-comment comment keyword" style="color:rgb(255, 157, 0);font-style:italic">@param</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(255, 255, 255);font-style:italic">{</span><span class="token doc-comment comment class-name" style="color:rgb(250, 208, 0);font-style:italic">string</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(255, 255, 255);font-style:italic">}</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> </span><span class="token doc-comment comment parameter" style="color:rgb(179, 98, 255);font-style:italic">pathPrepend</span><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic"> */</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">getManifest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token parameter">manifestName</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token parameter"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token parameter">  bundleName</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token parameter"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token parameter">  includeRelativePath</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token parameter"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token parameter">  pathPrepend</span><span class="token parameter punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Determine filename ("./build/manifest-debug.json" or "./build/manifest-release.json"</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">var</span><span class="token plain"> manifestFile </span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">buildBaseFolder</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> manifestName </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'.json'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">manifest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">bundleName</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> bundleName</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">includeRelativePath</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> includeRelativePath</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">manifestFile</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> manifestFile</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">log</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">pathPrepend</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> pathPrepend</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">pathSeparator</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'/'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Delete the build folder</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'clean'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token parameter">cb</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token function" style="color:rgb(250, 208, 0)">del</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">buildBaseFolder</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> cb</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Copy across all files in filesAndFolders.scripts to build/debug</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'scripts-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'clean'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> gulp</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">src</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">scripts</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">base</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">base</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">dest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">debugFolder</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Create a manifest.json for the debug build - this should have lots of script files in</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-scripts-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'scripts-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> gulp</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">src</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">scripts</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">base</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">base</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">ignore</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">exclude</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'**/*.{ts,js.map}'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Exclude ts and js.map files from the manifest (as they won't become script tags)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token function" style="color:rgb(250, 208, 0)">getManifest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">debug</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> bundleNames</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">scripts</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Copy across all files in filesAndFolders.styles to build/debug</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'styles-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'clean'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> gulp</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">src</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">styles</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">base</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">base</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">dest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">debugFolder</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Create a manifest.json for the debug build - this should have lots of style files in</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-styles-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'styles-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-scripts-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      gulp</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">src</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">styles</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">base</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">base</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">//.pipe(ignore.exclude("**/*.{ts,js.map}")) // Exclude ts and js.map files from the manifest (as they won't become script tags)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token function" style="color:rgb(250, 208, 0)">getManifest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">debug</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> bundleNames</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">styles</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Concatenate & Minify JS for release into a single file</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'scripts-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'clean'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    gulp</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">src</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">scripts</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">ignore</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">exclude</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'**/*.{ts,js.map}'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Exclude ts and js.map files - not needed in release mode</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token function" style="color:rgb(250, 208, 0)">concat</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'app.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Make a single file - if you want to see the contents then include the line below</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">//.pipe(gulp.dest(releaseFolder))</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token function" style="color:rgb(250, 208, 0)">uglify</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Make the file titchy tiny small</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token function" style="color:rgb(250, 208, 0)">rev</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Suffix a version number to it</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">dest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">releaseFolder</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Write single versioned file to build/release folder</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Create a manifest.json for the release build - this should just have a single file for scripts</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-scripts-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'scripts-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> gulp</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">src</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">buildBaseFolder</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">release</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'/*.js'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token function" style="color:rgb(250, 208, 0)">getManifest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">release</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> bundleNames</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">scripts</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">false</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Copy across all files in filesAndFolders.styles to build/debug</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'styles-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'clean'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    gulp</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">src</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">styles</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token function" style="color:rgb(250, 208, 0)">concat</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'app.css'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Make a single file - if you want to see the contents then include the line below</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">//.pipe(gulp.dest(releaseFolder))</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token function" style="color:rgb(250, 208, 0)">minifyCss</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Make the file titchy tiny small</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token function" style="color:rgb(250, 208, 0)">rev</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Suffix a version number to it</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">dest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">releaseFolder</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'/'</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">css</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Write single versioned file to build/release folder</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Create a manifest.json for the debug build - this should have a single style files in</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-styles-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'styles-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-scripts-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> gulp</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">src</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">releaseFolder</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'**/*.css'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token function" style="color:rgb(250, 208, 0)">getManifest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">          filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">release</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">          bundleNames</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">styles</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">          </span><span class="token boolean" style="color:rgb(255, 98, 140)">false</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">          filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">css</span><span class="token plain"> </span><span class="token operator" style="color:rgb(255, 157, 0)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">'/'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Copy across all fonts in filesAndFolders.fonts to both release and debug locations</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'fonts'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">'clean'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(255, 157, 0)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(255, 157, 0)">return</span><span class="token plain"> gulp</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">src</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">fonts</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:rgb(255, 157, 0)">base</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">base</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">dest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">debugFolder</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">pipe</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">dest</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token plain">filesAndFolders</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token property-access">releaseFolder</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">// Default Task</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">gulp</span><span class="token punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token method function property-access" style="color:rgb(250, 208, 0)">task</span><span class="token punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token string" style="color:rgb(165, 255, 144)">'default'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'scripts-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-scripts-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'styles-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-styles-debug'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'scripts-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-scripts-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'styles-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'manifest-styles-release'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token string" style="color:rgb(165, 255, 144)">'fonts'</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token punctuation" style="color:rgb(255, 255, 255)">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=what-gulpfilejs-does>What <code>gulpfile.js</code> does<a href=#what-gulpfilejs-does class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>This file does a number of things each time it is run. First of all it deletes any <code>build</code> folder in the root of the web project so we're ready to build anew. Then it packages up files both for debug and for release mode. For debug it does the following:</p>
<ol>
<li>It copies the <code>ts</code>, <code>js.map</code> and <code>js</code> files declared in <code>filesAndFolders.scripts</code> to the <code>build/debug</code> folder preserving their original folder structure. (So, for example, <code>app/app.ts</code>, <code>app/app.js.map</code> and <code>app/app.js</code> will all end up at <code>build/debug/app/app.ts</code>, <code>build/debug/app/app.js.map</code> and <code>build/debug/app/app.js</code> respectively.) This is done to allow the continued debugging of the original TypeScript files when running in debug mode.</li>
<li>It copies the <code>css</code> files declared in <code>filesAndFolders.styles</code> to the <code>build/debug</code> folder preserving their original folder structure. (So <code>content/bootstrap.css</code> will end up at <code>build/debug/content/bootstrap.css</code>.)</li>
<li>It creates a <code>build/manifest-debug.json</code> file which contains details of all the script and style files that have been packaged up:</li>
</ol>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token property" style="color:rgb(255, 157, 0)">"scripts"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"scripts/angular.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"scripts/angular-animate.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"scripts/angular-route.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"scripts/angular-sanitize.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"scripts/angular-ui/ui-bootstrap-tpls.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"scripts/toastr.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"scripts/moment.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"scripts/spin.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"scripts/underscore.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/app.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/config.route.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/common/common.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/common/logger.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/common/spinner.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/common/bootstrap/bootstrap.dialog.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/directives/imgPerson.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/directives/serverError.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/directives/sidebar.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/directives/spinner.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/directives/waiter.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/directives/widgetClose.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/directives/widgetHeader.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/directives/widgetMinimize.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/services/datacontext.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/services/repositories.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/services/repository.sage.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/services/repository.saying.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/about/about.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/admin/admin.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/dashboard/dashboard.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/layout/shell.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/layout/sidebar.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/layout/topnav.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/sages/sageDetail.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/sages/sageEdit.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/sages/sages.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/sayings/sayingEdit.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"app/sayings/sayings.js"</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token property" style="color:rgb(255, 157, 0)">"styles"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"content/ie10mobile.css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"content/bootstrap.css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"content/font-awesome.css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"content/toastr.css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token string" style="color:rgb(165, 255, 144)">"content/styles.css"</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>For release our gulpfile works with the same resources but has a different aim. Namely to minimise the the number of HTTP requests, obfuscate the code and version the files produced to prevent caching issues. To achieve those lofty aims it does the following:</p>
<ol>
<li>It concatenates together all the <code>js</code> files declared in <code>filesAndFolders.scripts</code>, minifies them and writes them to a single <code>build/release/app-{xxxxx}.js</code> file (where <code>-{xxxxx}</code> represents a version created by gulp-rev).</li>
<li>It concatenates together all the <code>css</code> files declared in <code>filesAndFolders.styles</code>, minifies them and writes them to a single <code>build/release/css/app-{xxxxx}.css</code> file. The file is placed in a css subfolder because of relative paths specified in the CSS file.</li>
<li>It creates a <code>build/manifest-release.json</code> file which contains details of all the script and style files that have been packaged up:</li>
</ol>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token property" style="color:rgb(255, 157, 0)">"scripts"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">"app-95d1e06d.js"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token property" style="color:rgb(255, 157, 0)">"styles"</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">"css/app-1a6256ea.css"</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>As you can see, the number of files included are reduced down to 2; 1 for JavaScript and 1 for CSS.</p>
<p>Finally, for both the debug and release packages the contents of the <code>fonts</code> folder is copied across wholesale, preserving the original folder structure. This is because the CSS files contain relative references that point to the font files. If I had image files which were referenced by my CSS I'd similarly need to include these in the build process.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=task-runner-explorer-gets-in-on-the-action>Task Runner Explorer gets in on the action<a href=#task-runner-explorer-gets-in-on-the-action class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>The eagle eyed amongst you will also have noticed a peculiar first line to our <code>gulpfile.js</code>:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">/// &lt;vs AfterBuild='default' /></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This mysterious comment is actually how the Task Runner Explorer hooks our <code>gulpfile.js</code> into the Visual Studio build process. Our "magic comment" ensures that on the <code>AfterBuild</code> event, Task Runner Explorer runs the <code>default</code> task in our <code>gulpfile.js</code>. The reason we're using the <code>AfterBuild</code> event rather than the <code>BeforeBuild</code> event is because our project contains TypeScript and we need the transpiled JavaScript to be created before we can usefully run our package tasks. If we were using JavaScript alone then that wouldn't be an issue and either build event would do.</p>
<p><img decoding=async loading=eager src=/assets/images/Screenshot-2014-10-21-17.02.11-e6efce21155e122138e6ea2793f2fa06.webp width=640 height=553 fetchpriority=high class=img_ev3q></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=how-do-i-use-this-in-my-html>How do I use this in my HTML?<a href=#how-do-i-use-this-in-my-html class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>Well this is magnificent - we have a gulpfile that builds our debug and release packages. The question now is, how do we use it?</p>
<p>Web Optimization made our lives really easy. Up in my head I had a <code>@Styles.Render("~/Content/css")</code> which pushed out my CSS and down at the foot of the body tag I had a <code>@Scripts.Render("~/angularApp")</code> which pushed out my script tags. <code>Styles</code> and <code>Scripts</code> are server-side utilities. It would be very easy to write equivalent utility classes that, depending on whether we were in debug or not, read the appropriate <code>build/manifest-xxxxxx.json</code> file and served up either debug or release <code>style</code> / <code>script</code> tags.</p>
<p>That would be pretty simple - and for what it's worth **simple is <u>good</u></p>
<p>**. But today I felt like a challenge. What say server side rendering had been outlawed? A draconian ruling had been passed and all you had to play with was HTML / JavaScript and a server API that served up JSON? What would you do then? (All fantasy I know... But go with me on this - it's a journey.) Or more sensibly, what if you just want to remove some of the work your app is doing server-side to bundle and minify. Just serve up static assets instead. Spend less money in Azure why not?</p>
<p>Before I make all the changes let's review where we were. I had a single MVC view which, in terms of bundles, CSS and JavaScript pretty much looked like this:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token doctype punctuation" style="color:rgb(255, 255, 255)">&lt;!</span><span class="token doctype doctype-tag" style="color:rgb(255, 157, 0)">doctype</span><span class="token doctype" style="color:rgb(255, 157, 0)"> </span><span class="token doctype name" style="color:rgb(255, 157, 0)">html</span><span class="token doctype punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">html</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">head</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">&lt;!-- ... --></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    @Styles.Render("~/Content/css")</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">head</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">body</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">&lt;!-- ... --></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    @Scripts.Render("~/angularApp")</span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">script</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        $</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">getJSON</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'@Url.Content("~/Home/StartApp")'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">done</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript parameter">startUpData</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">var</span><span class="token script language-javascript"> appConfig </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> $</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">extend</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"> startUpData</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">appRoot</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'@Url.Content("~/")'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">remoteServiceRoot</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'@Url.Content("~/api/")'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            angularApp</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">start</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">thirdPartyLibs</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">moment</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">window</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">moment</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">toastr</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">window</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">toastr</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">underscore</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">window</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">_</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">appConfig</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> appConfig</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">script</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">body</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">html</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This is already more a complicated example than most peoples use cases. Essentially what's happening here is both bundles are written out as part of the HTML and then, once the scripts have loaded the Angular app is bootstrapped with some configuration loaded from the server by a good old jQuery AJAX call.</p>
<p>After reading <a href=http://www.html5rocks.com/en/tutorials/speed/script-loading/ target=_blank rel="noopener noreferrer">an article about script loading by the magnificently funny Jake Archibald</a> I felt ready. I cast my MVC view to the four winds and created myself a straight HTML file:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token doctype punctuation" style="color:rgb(255, 255, 255)">&lt;!</span><span class="token doctype doctype-tag" style="color:rgb(255, 157, 0)">doctype</span><span class="token doctype" style="color:rgb(255, 157, 0)"> </span><span class="token doctype name" style="color:rgb(255, 157, 0)">html</span><span class="token doctype punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">html</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">head</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">&lt;!-- ... --></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">head</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">body</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">&lt;!-- ... --></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">script</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">Scripts/jquery-2.1.1.min.js</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token script"></span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">script</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">script</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">var</span><span class="token script language-javascript"> appConfig </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">var</span><span class="token script language-javascript"> scriptsToLoad</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        </span><span class="token script language-javascript doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic">/**</span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic">         * Handler which fires as each script loads</span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript doc-comment comment" style="color:rgb(179, 98, 255);font-style:italic">         */</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:rgb(250, 208, 0)">onScriptLoad</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript parameter">event</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          scriptsToLoad </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">-=</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:rgb(255, 98, 140)">1</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript comment" style="color:rgb(179, 98, 255);font-style:italic">// Now all the scripts are present start the app</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript keyword control-flow" style="color:rgb(255, 157, 0)">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript">scriptsToLoad </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">===</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:rgb(255, 98, 140)">0</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            angularApp</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">start</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">thirdPartyLibs</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">moment</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">window</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">moment</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">toastr</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">window</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">toastr</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">underscore</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">window</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">_</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript literal-property property" style="color:rgb(255, 157, 0)">appConfig</span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> appConfig</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        </span><span class="token script language-javascript comment" style="color:rgb(179, 98, 255);font-style:italic">// Load startup data from the server</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        $</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">getJSON</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'api/Startup'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">done</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript parameter">startUpData</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          appConfig </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> startUpData</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript comment" style="color:rgb(179, 98, 255);font-style:italic">// Determine the assets folder depending upon whether in debug mode or not</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">var</span><span class="token script language-javascript"> buildFolder </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> appConfig</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">appRoot</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'build/'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">var</span><span class="token script language-javascript"> debugOrRelease </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> appConfig</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">inDebug</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">?</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'debug'</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'release'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">var</span><span class="token script language-javascript"> manifestFile </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            buildFolder </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'manifest-'</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">+</span><span class="token script language-javascript"> debugOrRelease </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'.json'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">var</span><span class="token script language-javascript"> outputFolder </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> buildFolder </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">+</span><span class="token script language-javascript"> debugOrRelease </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'/'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript comment" style="color:rgb(179, 98, 255);font-style:italic">// Load JavaScript and CSS listed in manifest file</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          $</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">getJSON</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript">manifestFile</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">done</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript parameter">manifest</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            manifest</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">styles</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">forEach</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript parameter">href</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">var</span><span class="token script language-javascript"> link </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">document</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">createElement</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'link'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              link</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">rel</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'stylesheet'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              link</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">media</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'all'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              link</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">href</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> outputFolder </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">+</span><span class="token script language-javascript"> href</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">document</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">head</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">appendChild</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript">link</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            scriptsToLoad </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> manifest</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">scripts</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">length</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            manifest</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">scripts</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">forEach</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript parameter">src</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript keyword" style="color:rgb(255, 157, 0)">var</span><span class="token script language-javascript"> script </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">document</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">createElement</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript string" style="color:rgb(165, 255, 144)">'script'</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              script</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">onload</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> onScriptLoad</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              script</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">src</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> outputFolder </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">+</span><span class="token script language-javascript"> src</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              script</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">async</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(255, 157, 0)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:rgb(255, 98, 140)">false</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">              </span><span class="token script language-javascript dom variable" style="color:rgb(255, 238, 128)">document</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript property-access">head</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(250, 208, 0)">appendChild</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript">script</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">          </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">(</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">)</span><span class="token script language-javascript punctuation" style="color:rgb(255, 255, 255)">;</span><span class="token script language-javascript"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token script language-javascript">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">script</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">body</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">html</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If you very carefully compare the HTML above the MVC view that it replaces you can see the commonalities. They are doing pretty much the same thing - the only real difference is the bootstrapping API. Previously it was an MVC endpoint at <code>/Home/StartApp</code>. Now it's a Web API endpoint at <code>api/Startup</code>. Here's how it works:</p>
<ol>
<li>A jQuery AJAX call kicks off a call to load the bootstrapping / app config data. Importantly this data includes whether the app is running in debug or not.</li>
<li>Depending on the <code>isDebug</code> flag the app either loads the <code>build/manifest-debug.json</code> or <code>build/manifest-release.json</code> manifest.</li>
<li>For each CSS file in the styles bundle a <code>link</code> element is created and added to the page.</li>
<li>For each JavaScript file in the scripts bundle a <code>script</code> element is created and added to the page.</li>
</ol>
<p>It's worth pointing out that this also has a performance edge over Web Optimization as the assets are loaded asynchronously! (Yes I know it says <code>script.async = false</code> but that's not what you think it is... Go read Jake's article!)</p>
<p>To finish off I had to make a few tweaks to my <code>web.config</code>:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">&lt;!-- Allow ASP.Net to serve up JSON files --></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">system.webServer</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">staticContent</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">mimeMap</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">fileExtension</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">.json</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">mimeType</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">application/json</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">/></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">staticContent</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">system.webServer</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">&lt;!-- The build folder (and it's child folder "debug") will not be cached.</span><br></span><span class=token-line style=color:#9EFEFF><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">         When people are debugging they don't want to cache --></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">location</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">path</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">build</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">system.webServer</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">staticContent</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">clientCache</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">cacheControlMode</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">DisableCache</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">/></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">staticContent</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">system.webServer</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">location</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">&lt;!-- The release folder will be cached for a loooooong time</span><br></span><span class=token-line style=color:#9EFEFF><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">         When you're in Production caching is your friend --></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">location</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">path</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">build/release</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">system.webServer</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">staticContent</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">clientCache</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">cacheControlMode</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">UseMaxAge</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">/></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">staticContent</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">system.webServer</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">location</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=i-want-to-publish-how-do-i-include-my-assets>I want to publish, how do I include my assets?<a href=#i-want-to-publish-how-do-i-include-my-assets class=hash-link aria-label="Direct link to heading" title="Direct link to heading">​</a></h2>
<p>It's time for some <code>csproj</code> trickery. I must say I think I'll be glad to see the back of project files when ASP.Net vNext ships. This is what you need:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#9EFEFF;--prism-background-color:#2D2A55><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style=color:#9EFEFF;background-color:#2D2A55><code class=codeBlockLines_e6Vv><span class=token-line style=color:#9EFEFF><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">Target</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">Name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">AfterBuild</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">ItemGroup</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic">&lt;!-- what ever is in the build folder should be included in the project --></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;</span><span class="token tag" style="color:rgb(255, 157, 0)">Content</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag attr-name" style="color:rgb(255, 180, 84)">Include</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(255, 255, 255)">=</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag attr-value" style="color:rgb(255, 157, 0)">build\**\*.*</span><span class="token tag attr-value punctuation" style="color:rgb(255, 255, 255)">"</span><span class="token tag" style="color:rgb(255, 157, 0)"> </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">/></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">ItemGroup</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><span class="token plain"></span><br></span><span class=token-line style=color:#9EFEFF><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">&lt;/</span><span class="token tag" style="color:rgb(255, 157, 0)">Target</span><span class="token tag punctuation" style="color:rgb(255, 255, 255)">></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>What's happening here is that *<em>after</em>* a build Visual Studio considers the complete contents of the build folder to part of the project. It's after the build because the folder will be deleted and reconstructed as part of the build.</div><footer class=docusaurus-mt-lg><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class=col><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class=tag_QGVx><a title="The Visual Studio IDE." class="tag_zVej tagRegular_sFm0" href=/tags/visual-studio>Visual Studio</a><li class=tag_QGVx><a title="The TypeScript programming language." class="tag_zVej tagRegular_sFm0" href=/tags/typescript>TypeScript</a><li class=tag_QGVx><a title="The JavaScript programming language." class="tag_zVej tagRegular_sFm0" href=/tags/javascript>JavaScript</a><li class=tag_QGVx><a title="The Node.js runtime." class="tag_zVej tagRegular_sFm0" href=/tags/node-js>Node.js</a></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class=col><a href=https://github.com/johnnyreilly/blog.johnnyreilly.com/edit/main/blog-website/blog/2014-11-04-using-gulp-in-visual-studio-instead-of-web-optimization/index.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/Coded-UI-IE-11-and-the-runas-problem><div class=pagination-nav__sublabel>Newer Post</div><div class=pagination-nav__label>Pretending to be someone you're not and the dark pit of despair</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/caching-and-cache-busting-in-angularjs-with-http-interceptors><div class=pagination-nav__sublabel>Older Post</div><div class=pagination-nav__label>Caching and Cache-Busting in AngularJS with HTTP interceptors</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#updated-17022015-ive-taken-the-approach-discussed-in-this-post-a-little-further---you-can-see-here class="table-of-contents__link toc-highlight">Updated 17/02/2015: I've taken the approach discussed in this post a little further - you can see here</a><li><a href=#bub-bye-web-optimization class="table-of-contents__link toc-highlight">Bub bye Web Optimization</a><li><a href=#installing-gulp-and-associates class="table-of-contents__link toc-highlight">Installing Gulp (and Associates)</a><li><a href=#making-gulpfilejs class="table-of-contents__link toc-highlight">Making <code>gulpfile.js</code></a><li><a href=#what-gulpfilejs-does class="table-of-contents__link toc-highlight">What <code>gulpfile.js</code> does</a><li><a href=#task-runner-explorer-gets-in-on-the-action class="table-of-contents__link toc-highlight">Task Runner Explorer gets in on the action</a><li><a href=#how-do-i-use-this-in-my-html class="table-of-contents__link toc-highlight">How do I use this in my HTML?</a><li><a href=#i-want-to-publish-how-do-i-include-my-assets class="table-of-contents__link toc-highlight">I want to publish, how do I include my assets?</a></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title></div><ul class="footer__items clean-list"><li class=footer__item><div class=footer__title><a href=/tags/typescript class=footer__link-item>TypeScript<img src=/img/ts-logo-128.svg alt="TypeScript icon" class=footer__icon></a></div>
<ul class="footer__items clean-list">
  <li class=footer__item><a href=/typescript-vs-jsdoc-javascript class=footer__link-item>TypeScript vs JSDoc JavaScript</a><li class=footer__item><a href=/type-annotations-strong-types-weakly-held class=footer__link-item>Type annotations proposal: strong types, weakly held</a></li>
</ul><div class=footer__title><a href=/tags/azure class=footer__link-item>Azure<img src=/img/azure-logo.svg alt="Azure icon" class=footer__icon></a></div>
<ul class="footer__items clean-list">
  <li class=footer__item><a href=/azure-container-apps-easy-auth-and-dotnet-authentication class=footer__link-item>Azure Container Apps: Easy Auth and .NET</a><li class=footer__item><a href=/introducing-azdo-npm-auth class=footer__link-item>Introducing azdo-npm-auth (Azure DevOps npm auth)</a><li class=footer__item><a href=/npx-and-azure-artifacts-the-secret-cli-delivery-mechanism class=footer__link-item>npx and Azure Artifacts: the secret CLI delivery mechanism</a><li class=footer__item><a href=/azure-static-web-apps-dynamic-redirects-azure-functions class=footer__link-item>Azure Static Web Apps: dynamic redirects with Azure Functions</a></li>
</ul><div class=footer__title><a href=/tags/asp-net class=footer__link-item>ASP.NET<img src=/img/dotnet-logo.svg alt="ASP.NET icon" class=footer__icon></a></div>
<ul class="footer__items clean-list">
  <li class=footer__item><a href=/eslint-your-csharp-in-vs-code-with-roslyn-analyzers class=footer__link-item>ESLint your C# with Roslyn Analyzers</a><li class=footer__item><a href=/aspnet-serilog-and-application-insights class=footer__link-item>ASP.NET, Serilog and Application Insights</a></li>
</ul><div class=footer__title><a href=/tags/react class=footer__link-item>React<img src=/img/react-logo.svg alt="React icon" class=footer__icon></a></div>
<ul class="footer__items clean-list">
  <li class=footer__item><a href=/structured-data-seo-and-react class=footer__link-item>Structured data and React</a><li class=footer__item><a href=/react-usesearchparamsstate class=footer__link-item>React: storing state in URL with URLSearchParams</a></li>
</ul></ul></div><div class="col footer__col"><div class=footer__title></div><ul class="footer__items clean-list"><li class=footer__item><div class=footer__title>Notable articles</div>
<ul class="footer__items clean-list">
  <li class=footer__item><a href=/definitely-typed-the-movie class=footer__link-item>The history of Definitely Typed<img src=/img/definitely-typed-logo.png alt="The history of Definitely Typed icon" class=footer__icon></a><li class=footer__item><a href=/typescript-documentary class=footer__link-item>TypeScript: the documentary<img src=/img/ts-logo-128.svg alt="TypeScript: the documentary icon" class=footer__icon></a><li class=footer__item><a href=/how-we-fixed-my-seo class=footer__link-item>How we fixed my SEO</a></li>
</ul><div class=footer__title>Popular articles</div>
<ul class="footer__items clean-list">
  <li class=footer__item><a href=/aspnet-serilog-and-application-insights class=footer__link-item>ASP.NET, Serilog and Application Insights</a><li class=footer__item><a href=/eslint-your-csharp-in-vs-code-with-roslyn-analyzers class=footer__link-item>ESLint your C# with Roslyn Analyzers</a><li class=footer__item><a href=/prettier-your-csharp-with-dotnet-format-and-lint-staged class=footer__link-item>dotnet-format: Prettier your C# with lint-staged & husky</a></li>
</ul><div class=footer__title>Recently updated</div>
<ul class="footer__items clean-list">
  <li class=footer__item><a href=azure-devops-pull-requests-dynamic-required-reviewers class=footer__link-item>Azure DevOps: pull requests and dynamic required reviewers</a><li class=footer__item><a href=definitive-guide-to-migrating-from-blogger-to-docusaurus class=footer__link-item>The definitive guide to migrating from Blogger to Docusaurus</a><li class=footer__item><a href=azure-container-apps-bicep-managed-certificates-custom-domains class=footer__link-item>Azure Container Apps, Bicep, managed certificates and custom domains</a></li>
</ul></ul></div><div class="col footer__col"><div class=footer__title>Learn more / support me</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/about>About me</a><li class=footer__item><a href=https://github.com/johnnyreilly/blog.johnnyreilly.com target=_blank rel="noopener noreferrer" class=footer__link-item>Blog source code on GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a class=footer__link-item href=/tags>Blog categories</a><li class=footer__item><a href=https://johnnyreilly.com/rss.xml target=_blank rel="noopener noreferrer" class=footer__link-item>RSS feed<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://johnnyreilly.com/atom.xml target=_blank rel="noopener noreferrer" class=footer__link-item>Atom feed<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a class=footer__link-item href=/privacy-policy>Privacy Policy</a><li class=footer__item><iframe src=https://github.com/sponsors/johnnyreilly/card title="Sponsor johnnyreilly" style="margin-top: 20px; border: 0; border-radius: 10px; background-color: white; min-height: 400px;"></iframe><li class=footer__item><a href=https://www.buymeacoffee.com/qUBm0Wh rel=noopener target=_blank><img src=https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png loading=lazy alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2012 - 2025 John Reilly. Built with Docusaurus.</div></div></div></footer></div>